!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("cui-light",[],e):"object"==typeof exports?exports["cui-light"]=e():t["cui-light"]=e()}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),i.d(e,"CUI_LIGHT_VERSION",(function(){return hp})),i.d(e,"CuiInstance",(function(){return An}));class s extends Error{constructor(t,e){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=t}}class n extends s{constructor(t){super("ItemNotFoundError",t)}}class r extends s{constructor(t){super("ArgumentError",t)}}class o extends s{constructor(t){super("CuiInstanceInitError",t)}}class h extends s{constructor(t){super("RegisterElementError",t)}}class a extends s{constructor(t){super("AnimatorError",t)}}class l extends s{constructor(t){super("CSSVariableError",t)}}class c extends s{constructor(t){super("CuiColorError",t)}}class u extends s{constructor(t){super("CuiPositionError",t)}}const d="dark",p="animation-progress",g="print",v="swiping-on",m={close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 1.9999999,1.9999999 18,18"></path><path d="M 18,1.9999999 1.9999999,18"></path></svg>',accordion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 5.0000475,7.4490018 10.000024,12.551028 15,7.4490018"></path></svg>',special_menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path class="menu_handle_2" d="M 1,10 H 19"></path><path class="menu_handle_1" d="M 1,4.8571429 H 19"></path><path  class="menu_handle_3" d="M 1,15.142857 H 19"></path></svg>',special_fail:'<svg xmlns="http://www.w3.org/2000/svg" class="special-fail" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7.000001 A 43,43 0 0 1 92.999999,50 43,43 0 0 1 50,92.999999 43,43 0 0 1 7.0000011,50 43,43 0 0 1 50,7.000001 Z"></path><path class="arm_1" d="M 28.536809,28.536809 71.342023,71.342023"></path><path class="arm_2" d="M 71.342023,28.536809 28.536809,71.342023"></path></svg>',special_success:'<svg xmlns="http://www.w3.org/2000/svg" class="special-success" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7 A 43,43 0 0 1 93,50 43,43 0 0 1 50,93 43,43 0 0 1 7,50 43,43 0 0 1 50,7 Z"></path><path class="arm" d="M 22.988405,48.234784 36.946233,72.410453 75.516456,33.84023"></path></svg>'},f="--cui-color-light-app-background",w="--cui-color-dark-app-background",k="--cui-color-light-background",y="--cui-color-dark-background ",b="--cui-color-light-border",M="--cui-color-dark-border",C={light:{base:"--cui-color-light-base",muted:"--cui-color-light-muted",active:"--cui-color-light-active"},dark:{base:"--cui-color-dark-base",muted:"--cui-color-dark-muted",active:"--cui-color-dark-active"},accent:{base:"--cui-color-primary",muted:"--cui-color-primary-muted",active:"--cui-color-primary-active"},secondary:{base:"--cui-color-secondary",muted:"--cui-color-secondary-muted",active:"--cui-color-secondary-active"},success:{base:"--cui-color-success",muted:"--cui-color-success-muted",active:"--cui-color-success-active"},warning:{base:"--cui-color-warning",muted:"--cui-color-warning-muted",active:"--cui-color-warning-active"},error:{base:"--cui-color-error",muted:"--cui-color-error-muted",active:"--cui-color-error-active"}},A={fontSize:"--{prefix}-font-size",lineHeight:"--{prefix}-line-height",animationTime:"--{prefix}-animation-time",animationTimeLong:"--{prefix}-animation-time-long",animationTimeShort:"--{prefix}-animation-time-short",colorLightAppBackground:"--{prefix}-color-light-app-background",colorLightBackground:"--{prefix}-color-light-background",colorLightBorder:"--{prefix}-color-light-border",colorLightBase:"--{prefix}-color-light-base",colorLightActive:"--{prefix}-color-light-active",colorLightMuted:"--{prefix}-color-light-muted",colorDarkAppBackground:"--{prefix}-color-dark-app-background",colorDarkBackground:"--{prefix}-color-dark-background",colorDarkBorder:"--{prefix}-color-dark-border",colorDarkBase:"--{prefix}-color-dark-base",colorDarkActive:"--{prefix}-color-dark-active",colorDarkMuted:"--{prefix}-color-dark-muted",colorAccent:"--{prefix}-color-primary",colorAccentActive:"--{prefix}-color-primary-active",colorAccentMuted:"--{prefix}-color-primary-muted",colorAccentShade:"--{prefix}-color-primary-shade",colorAccentShadeDark:"--{prefix}-color-primary-shade-dark",colorSecondary:"--{prefix}-color-secondary",colorSecondaryActive:"--{prefix}-color-secondary-active",colorSecondaryMuted:"--{prefix}-color-secondary-muted",colorSecondaryShade:"--{prefix}-color-secondary-shade",colorSecondaryShadeDark:"--{prefix}-color-secondary-shade-dark",colorWarning:"--{prefix}-color-warning",colorWarningActive:"--{prefix}-color-warning-active",colorWarningMuted:"--{prefix}-color-warning-muted",colorWarningShade:"--{prefix}-color-warning-shade",colorWarningShadeDark:"--{prefix}-color-warning-shade-dark",colorSuccess:"--{prefix}-color-success",colorSuccessActive:"--{prefix}-color-success-active",colorSuccessMuted:"--{prefix}-color-success-muted",colorSuccessShade:"--{prefix}-color-success-shade",colorSuccessShadeDark:"--{prefix}-color-success-shade-dark",colorError:"--{prefix}-color-error",colorErrorActive:"--{prefix}-color-error-active",colorErrorMuted:"--{prefix}-color-error-muted",colorErrorShade:"--{prefix}-color-error-shade",colorErrorShadeDark:"--{prefix}-color-error-shade-dark",inputBackground:"--{prefix}-input-background-color",colorShade:"--{prefix}-color-shade",colorShadeDarker:"--{prefix}-color-shade-darker",colorShadeLight:"--{prefix}-color-shade-light",colorShadeLighter:"--{prefix}-color-shade-light-lighter",outline:"--{prefix}-outline",borderRadius:"--{prefix}-border-radius",padding:"--{prefix}-padding",margin:"--{prefix}-margin",scrollbarWidth:"--{prefix}-scrollbar-width",componentSpace:"--{prefix}-component-space",accordionIcon:"--{prefix}-accordion-icon"};class E{}E.logLevel="none",E.prefix="cui";const W="instance-initialized",T="instance-finished",S="resize",x="open",L="opened",P="close",I="closed",D="toggle",B="toggled",H="switch",N="switched",$="scroll",O="targetchange",R="intersection",_="keydown",q="windowclick",F="offset",U="progresschange",z="progresschanged",V="globalmove",j="movelock",X="pause",Y="paused",K="sorted",Z="sortstart",G=function*(){let t=0;for(;;){((yield t++)||t>2e5)&&(t=0)}}();function J(t,e=!0){return null!=t&&(!e||!function(t){if("string"==typeof t)return 0===t.length;if("boolean"==typeof t)return t;if(Array.isArray(t))return 0===t.length;return!1}(t))}function Q(t,e){if(!J(t)||!J(e))throw new r("Missing argument value");return`${t}-${e}`}function tt(t){return new Promise(e=>setTimeout(()=>{e(!0)},t))}function et(t,e,i){return t<e?e:t>i?i:t}function it(t,e,i,s){return null==t||isNaN(t)?s:et(t,e,i)}function st(t){return J(t)?`[${t.join("],[")}]`:""}function nt(...t){if(!J(t))return!1;let e=t.length;for(let i=0;i<e;i++)if(!J(t[i]))return!1;return!0}function rt(t){let e="none";return t>=640&&(e="small"),t>=960&&(e="medium"),t>=1200&&(e="large"),t>=1600&&(e="xlarge"),e}function ot(t){let e={};return J(t)?(e=function(t){let e=null;if(J(t)&&t.startsWith("{")&&t.endsWith("}")){try{e=function(t){return t&&t.length>0?JSON.parse(t):{}}(t)}catch(t){console.error((i="An exception occured",s="Functions",n="parseJsonString",`[${(new Date).toLocaleString()}][${null!=s?s:"-"}][${null!=n?n:"-"}][${i}]`),t)}return e}var i,s,n;return null}(t.trim()),J(e)||(t.includes(";")||t.includes(":")?(e={},t.split(";").forEach(t=>{let i=bt(t),s=void 0,n="";i.length<2||(s=i[0].trim(),n=i[1].trim(),s&&(e[s]=n.replace("U+0003B",";")))})):e=t),e):e}function ht(t,e){let i=parseInt(t);return isNaN(i)?e:i}function at(t,e){return J(t)&&J(e)?t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):null:null}function lt(t,e,i){return J(t)&&t>=e&&t<=i}function ct(t,e){return nt(t,e)?ot(t.getAttribute(e)):null}function ut(t){return!!J(t)&&["y","t","true","yes"].includes(t.toLowerCase())}function dt(t,e){return J(t)?t.toLowerCase():e}function pt(t){return"string"==typeof t}function gt(t,e){return J(t)?t.replace("{prefix}",null!=e?e:""):t}function vt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function mt(t,e,i,s){let n=t;n.$handlers={};let r=function(t,e){return t&&J(t.hasAttribute)?e.filter(e=>t.hasAttribute(e)):[]}(t,i);J(r)&&(n.$cuid=t.hasAttribute("cuid")?t.getAttribute("cuid"):function(t){return`${J(t)?t:"cui-element"}-${G.next().value}`}(t.tagName),t.setAttribute("cuid",n.$cuid),r.forEach(i=>{let o=e.find(t=>t.attribute===i);if(J(o))try{s.styleAppender.append(o.getStyle());let e=o.get(t,s);n.$handlers[o.attribute]=e,n.$handlers[o.attribute].handle(ct(t,o.attribute))}catch(t){let e=r?r.join(", "):"";throw new h(`An error occured during [${e}] initialization: ${t.message}`)}}))}function ft(t){if(!J(t))return;let e=t.parentElement;return J(e)&&J(e.$cuid)?e:ft(e)}function wt(t){let e=0;return t?(Array.from(t.children).forEach(t=>{e+=t.getBoundingClientRect().height}),e>0?e+4:e):-1}function kt(t,e){if(nt(t,e))for(let i in t)t.hasOwnProperty(i)&&e(i,t[i])}function yt(t,e,i){let s=-1;switch(t){case"prev":s=e<=0?i-1:e-1;break;case"next":s=e<i-1?e+1:0;break;case"first":s=0;break;case"last":s=i-1;default:s=ht(t,-1)}return s}function bt(t){let e=[];if(!J(t))return e;let i=t.split(":");return 1===i.length?i:[i.shift(),i.join(":")]}class Mt{constructor(){this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.prefix="cui",this.plugins={}}fromInit(t){var e;return this.prefix=null!==(e=t.prefix)&&void 0!==e?e:"cui",this.logLevel=t.logLevel,this.cacheSize=t.cacheSize,this.autoLightMode=t.autoLightMode,this.animationTime=t.animationTime,this.animationTimeShort=t.animationTimeShort,this.animationTimeLong=t.animationTimeLong,this.scrollThreshold=t.scrollThreshold,this.resizeThreshold=t.resizeThreshold,this}}class Ct{constructor(){this.prefix="cui",this.app="$cui",this.logLevel="warning",this.interaction="async",this.animationTime=300,this.animationTimeShort=150,this.animationTimeLong=500,this.cacheSize=500,this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.root=document.body,this.busSetup=void 0,this.development=void 0}}class At{constructor(t,e){this.level=e,this.component=t,this.id="-"}setLevel(t){this.level=t}setId(t){this.id=t}debug(t,e){"debug"===this.level&&console.log(this.prepString(t,"debug",e))}error(t,e){"error"!==this.level&&"debug"!==this.level&&"warning"!==this.level||console.error(this.prepString(t,"error",e))}warning(t,e){"warning"!==this.level&&"debug"!==this.level||console.warn(this.prepString(t,"warning",e))}exception(t,e){console.error(this.prepString(`An exception occured: ${t.name}: ${t.message}`,"exception",e)),"debug"===this.level&&console.error(t.stack)}performance(t,e){if("debug"!==this.level)return;let i=Date.now();t(),console.log(this.prepString(`Performance measure: ${Date.now()-i}ms`,"performance",e))}prepString(t,e,i){return`[${(new Date).toLocaleString()}][${e}][${this.component}][${null!=i?i:"-"}][${this.id}][${t}]`}}class Et{static get(t,e){return new At(t,null!=e?e:E.logLevel)}}var Wt,Tt,St,xt,Lt,Pt,It,Dt,Bt,Ht,Nt,$t,Ot=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Rt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class _t{constructor(t,e){Wt.set(this,void 0),Tt.set(this,void 0),St.set(this,void 0),xt.set(this,void 0),Lt.set(this,void 0),Pt.set(this,void 0),It.set(this,void 0),Ot(this,Wt,void 0),this.plugins=void 0,Ot(this,Tt,void 0),Ot(this,St,t),this._log=Et.get("CuiMutationObserver"),Ot(this,xt,[]),Ot(this,Lt,[]),Ot(this,Pt,e),Ot(this,It,"")}setPlugins(t){return this.plugins=t,this}setComponents(t){return Ot(this,xt,t),this}setAttributes(t){return Ot(this,Tt,{attributes:!0,subtree:!0,childList:!0,attributeFilter:t}),Ot(this,Lt,t),Ot(this,It,st(t)),this}start(){return this._log.debug("Starting"),Rt(this,Tt)?(Ot(this,Wt,new MutationObserver(this.mutationCallback.bind(this))),Rt(this,Wt).observe(Rt(this,St),Rt(this,Tt)),this._log.debug("Started"),this):(this._log.error("Cannot start - options are not defined"),this)}stop(){return this._log.debug("Stopping"),Rt(this,Wt)?(Rt(this,Wt).disconnect(),Ot(this,Wt,void 0),this._log.debug("Stopped"),this):(this._log.debug("Observer not available"),this)}mutationCallback(t,e){t.forEach(t=>{switch(t.type){case"attributes":const e=t.target;nt(t.attributeName,e)?nt(e.$handlers,e.$handlers[t.attributeName])&&e.$handlers[t.attributeName].refresh(ct(e,t.attributeName)):this._log.error("Mutation attribute doesn't not exisist");break;case"childList":this.handleChildListMutation(t)}J(this.plugins)&&this.plugins.onMutation(t).then(()=>{})})}handleChildListMutation(t){const e=t.addedNodes.length,i=t.removedNodes.length;e>0?(this._log.debug("Registering added nodes: "+e),this.handleAddedNodes(t.addedNodes)):i>0&&(this._log.debug("Removing nodes: "+i),this.handleRemovedNodes(t.removedNodes))}handleAddedNodes(t){t.forEach(t=>{try{mt(t,Rt(this,xt),Rt(this,Lt),Rt(this,Pt));let e=t.hasChildNodes()?t.querySelectorAll(Rt(this,It)):null;J(e)&&e.forEach(t=>{mt(t,Rt(this,xt),Rt(this,Lt),Rt(this,Pt))})}catch(t){this._log.exception(t)}})}handleRemovedNodes(t){t.forEach(t=>{this.destroySingleElement(t);let e=t.hasChildNodes()?t.querySelectorAll(Rt(this,It)):null;J(e)&&e.forEach(t=>{this.destroySingleElement(t)})})}destroySingleElement(t){let e=t;if(e.$handlers)for(let t in e.$handlers)if(e.$handlers.hasOwnProperty(t))try{e.$handlers[t].destroy()}catch(e){this._log.exception(e,"remove - "+t)}}}Wt=new WeakMap,Tt=new WeakMap,St=new WeakMap,xt=new WeakMap,Lt=new WeakMap,Pt=new WeakMap,It=new WeakMap;class qt{constructor(t){Dt.set(this,void 0),Bt.set(this,void 0),Ht.set(this,void 0),Nt.set(this,void 0),$t.set(this,{childList:!0,subtree:!0}),Ot(this,Bt,void 0),Ot(this,Nt,!1),Ot(this,Dt,!1),Ot(this,Ht,t)}observe(){Rt(this,Dt)||Rt(this,Nt)||!Rt(this,Bt)||(Rt(this,Bt).observe(Rt(this,Ht),Rt(this,$t)),Ot(this,Dt,!0))}unobserve(){Rt(this,Dt)&&Rt(this,Bt)&&(Rt(this,Bt).disconnect(),Ot(this,Dt,!1))}isObserving(){return Rt(this,Dt)}disable(t){Ot(this,Nt,t),Rt(this,Nt)&&this.unobserve()}onMutation(t){Rt(this,Dt)&&this.unobserve(),Ot(this,Bt,new MutationObserver(t))}}Dt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,Nt=new WeakMap,$t=new WeakMap;var Ft,Ut,zt,Vt,jt,Xt,Yt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Kt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Zt{constructor(){Ft.set(this,void 0),Ut.set(this,void 0),zt.set(this,void 0),Vt.set(this,!1),jt.set(this,void 0),Xt.set(this,void 0),Yt(this,zt,window.requestAnimationFrame.bind(window)),Yt(this,Ft,[]),Yt(this,Ut,[]),Yt(this,jt,5),Yt(this,Xt,void 0)}onError(t){Yt(this,Xt,t)}mutate(t,e,...i){Kt(this,Ut).push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){Kt(this,Ft).push(this.createTask(t,e,...i)),this.schedule()}createTask(t,e,...i){return e||i?t.bind(e,...i):t}run(t){let e=null;for(;e=t.shift();)e()}schedule(t){if(!Kt(this,Vt)){if(Yt(this,Vt,!0),t&&t>=Kt(this,jt))throw new Error("Fast Dom limit reached");Kt(this,zt).call(this,this.flush.bind(this,t))}}flush(t){let e=null!=t?t:0,i=null,s=Kt(this,Ft),n=Kt(this,Ut);try{this.run(n),this.run(s)}catch(t){Kt(this,Xt)?Kt(this,Xt).call(this,t):console.error("An error has been captured in interactions: "+t.message),i=t}Yt(this,Vt,!1),(i||Kt(this,Ft).length||Kt(this,Ut).length)&&this.schedule(e+1)}}Ft=new WeakMap,Ut=new WeakMap,zt=new WeakMap,Vt=new WeakMap,jt=new WeakMap,Xt=new WeakMap;class Gt{constructor(){this.isRunning=!1,this.tasks=[],this.raf=window.requestAnimationFrame.bind(window)}mutate(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}schedule(){this.isRunning||(this.isRunning=!0,this.raf(this.flush.bind(this)))}flush(){let t=null;for(;t=this.tasks.shift();)try{t()}catch(t){}this.isRunning=!1}createTask(t,e,...i){return e||i?t.bind(e,...i):t}}var Jt,Qt,te=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ee=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ie{constructor(t){Jt.set(this,void 0),Qt.set(this,void 0),te(this,Jt,[]),te(this,Qt,[]),t&&t.forEach(t=>{if(!J(t.key))throw te(this,Jt,[]),te(this,Qt,[]),new r("Key is empty");this.add(t.key,t.value)})}add(t,e){if(this.throwOnEmptyKey(t),this.containsKey(t))throw new Error("Key already exists");ee(this,Jt).push(t),ee(this,Qt).push(e)}remove(t){if(!J(t))return;let e=ee(this,Jt).indexOf(t);e>=0&&(ee(this,Jt).splice(e,1),ee(this,Qt).splice(e,1))}get(t){this.throwOnEmptyKey(t);let e=this.indexOf(t);if(!(e<0))return ee(this,Qt)[e]}containsKey(t){return J(t)&&this.indexOf(t)>=0}keys(){return ee(this,Jt)}values(){return ee(this,Qt)}indexOf(t){return J(t)?ee(this,Jt).indexOf(t):-1}update(t,e){this.throwOnEmptyKey(t);let i=this.indexOf(t);if(i<0)throw new n(`Item with key [${t}] not found`);ee(this,Qt)[i]=e}clear(){te(this,Qt,[]),te(this,Jt,[])}throwOnEmptyKey(t){if(!J(t))throw new r("Key is empty")}}Jt=new WeakMap,Qt=new WeakMap;var se,ne,re=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},oe=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class he{constructor(t){se.set(this,void 0),ne.set(this,void 0),re(this,se,new ie),re(this,ne,null!=t?t:500)}put(t,e){J(t)&&(this.has(t)?oe(this,se).update(t,e):(this.clean(),oe(this,se).add(t,e)))}get(t){if(!this.has(t))return;let e=oe(this,se).get(t);if(e&&e.refresh())return e;oe(this,se).remove(t)}has(t){return!!J(t)&&oe(this,se).containsKey(t)}remove(t){return!!J(t)&&(!!this.has(t)&&(oe(this,se).remove(t),!0))}clear(){oe(this,se).clear()}clean(){oe(this,se).keys().length>=oe(this,ne)&&oe(this,se).remove(oe(this,se).keys()[0])}}se=new WeakMap,ne=new WeakMap;var ae,le,ce,ue=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},de=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},pe=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ge{constructor(){this.queue=[],this.isBusy=!1}idMatches(t,e){return!J(t)||J(t)&&t==e}}class ve extends ge{constructor(t){super(),ae.set(this,void 0),le.set(this,void 0),de(this,le,t),de(this,ae,Et.get("SimpleEventEmitHandler"))}handle(t,e,i){return ue(this,void 0,void 0,(function*(){J(t)?(this.queue.push({events:t,cuid:e,args:i}),this.isBusy||this.isBusy||(this.isBusy=!0,this.perform(),this.queue.length>0&&(yield this.perform()),this.isBusy=!1)):pe(this,ae).warning("No events provided")}))}perform(){return ue(this,void 0,void 0,(function*(){let t=this.queue.shift();if(t)for(let e in t.events){let i=t.events[e];try{this.idMatches(t.cuid,i.$cuid)&&(yield pe(this,le).execute(i.callback,t.args))}catch(t){pe(this,ae).error(t)}}}))}}ae=new WeakMap,le=new WeakMap;class me extends ge{constructor(t){super(),ce.set(this,void 0),de(this,ce,t)}handle(t,e,i){return ue(this,void 0,void 0,(function*(){J(t)&&(this.queue.push({events:t,cuid:e,args:i}),this.isBusy||(this.isBusy=!0,this.perform(),this.queue.length>0&&this.perform(),this.isBusy=!1))}))}perform(){return ue(this,void 0,void 0,(function*(){let t=this.queue.shift(),e=[];if(!t)return Promise.all(e);for(let i in t.events){let s=t.events[i];this.idMatches(t.cuid,s.$cuid)&&e.push(pe(this,ce).execute(s.callback,t.args))}return Promise.all(e)}))}}ce=new WeakMap;var fe=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))};class we{execute(t,e){return fe(this,void 0,void 0,(function*(){e=null!=e?e:[],t(...e)}))}}var ke,ye,be,Me,Ce,Ae,Ee,We,Te=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Se=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},xe=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Le{constructor(t,e){ke.set(this,void 0),ye.set(this,void 0),be.set(this,void 0),Me.set(this,void 0),Se(this,ke,{}),Se(this,be,t),Se(this,Me,null!=e?e:"CuiEventBus"),Se(this,ye,Et.get(xe(this,Me)))}on(t,e,i){if(!nt(t,e))throw new r("Missing argument");let s=xe(this,Me)+"-"+function(){let t=vt(1,1e3),e=vt(1,100);return`${Math.floor(Math.random()*e)}-${Math.floor(t)}`}();return xe(this,ke)[t]||(xe(this,ke)[t]={}),this.isAttached(xe(this,ke)[t],s,i)?null:(xe(this,ye).debug(`Attaching new event: [${t}] for: [${s}]`),xe(this,ke)[t][s]={callback:e,$cuid:this.getCuid(i)},s)}detach(t,e){if(!nt(t,e))throw new r("Missing argument");let i=xe(this,ke)[t];xe(this,ye).debug(`Detaching item: [${e}] from [${t}]`),this.isAttached(i,e)&&delete i[e]}detachAll(t){J(t)&&xe(this,ke)[t]?delete xe(this,ke)[t]:xe(this,ye).error("Event name is missing or incorrect","detachAll")}emit(t,e,...i){return Te(this,void 0,void 0,(function*(){if(!J(t))throw new r("Event name is incorrect");return J(xe(this,ke)[t])&&(xe(this,ye).debug(`Emit: [${t}]`),yield xe(this,be).handle(xe(this,ke)[t],e,i)),!0}))}isSubscribing(t,e,i){let s=xe(this,ke)[t];return this.isAttached(s,e,i)}detachByCuid(t,e){if(!nt(t,e))return;let i=xe(this,ke)[t];J(i)&&kt(Object.assign({},i),(t,s)=>{s.$cuid===e&&delete i[t]})}isAttached(t,e,i){return J(i)?J(t)&&J(e)&&J(t[e])&&t[e].$cuid==i.$cuid:J(t)&&J(e)&&J(t[e])}getCuid(t){return J(t)?t.$cuid:null}}ke=new WeakMap,ye=new WeakMap,be=new WeakMap,Me=new WeakMap;class Pe{constructor(t){if(Ce.set(this,void 0),Ae.set(this,void 0),Ee.set(this,void 0),We.set(this,void 0),Se(this,Ae,Et.get("CuiEventBus")),Se(this,Ee,[]),Se(this,Ce,{}),Se(this,We,0),J(t)){xe(this,Ae).debug("Initiating buses"),(1===t.length?t:t.sort((t,e)=>t.priority-e.priority)).forEach((t,e)=>{xe(this,Ee).push(this.initBusInstance(t.name,t.handler)),Se(this,Ce,Object.assign(Object.assign({},xe(this,Ce)),this.mapEvents(t.eventsDef,e))),xe(this,Ae).debug(`Bus ${t.name} has been initialized with number: ${e}`)}),xe(this,Ee).push(this.initBusInstance("DefaultEventBus","tasked")),Se(this,We,xe(this,Ee).length-1),xe(this,Ae).debug("Bus initialization finished")}}on(t,e,i){if(!nt(t,e))throw new r("Missing argument");return this.get(t).on(t,e,i)}detach(t,e,i){if(!nt(t,e))throw new r("Missing argument");this.get(t).detach(t,e,i)}detachAll(t){this.get(t).detachAll(t)}emit(t,e,...i){return Te(this,void 0,void 0,(function*(){if(!J(t))throw new r("Event name is incorrect");return this.get(t).emit(t,e,...i)}))}isSubscribing(t,e,i){return this.get(t).isSubscribing(t,e,i)}detachByCuid(t,e){nt(t,e)&&this.get(t).detachByCuid(t,e)}initBusInstance(t,e){if(!nt(t,e))throw new r("Bus name or handler name is incorrect");let i=new we,s=class{static get(t,e){switch(t){case"tasked":return new me(e);default:return new ve(e)}}}.get(e,i);return new Le(s,t)}mapEvents(t,e){return t.reduce((t,i)=>t[i]?t:Object.assign(Object.assign({},t),{[i]:e}),{})}get(t){let e=xe(this,Ce)[t];return xe(this,Ee)[null!=e?e:xe(this,We)]}}Ce=new WeakMap,Ae=new WeakMap,Ee=new WeakMap,We=new WeakMap;new WeakMap,new WeakMap;var Ie,De=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i};class Be{constructor(t){Ie.set(this,void 0),De(this,Ie,t)}append(t){if(J(t)){const e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style"),s=document.createTextNode(t);i.type="text/css",i.appendChild(s),e.appendChild(i)}return!0}}Ie=new WeakMap;var He,Ne,$e,Oe,Re=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},_e=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class qe{constructor(t){He.set(this,void 0),Ne.set(this,void 0),$e.set(this,15),Oe.set(this,15),Re(this,He,document.documentElement),Re(this,Ne,t)}setAppBackground(t,e){this.setPropertyIn(f,t.toCssString()),this.setPropertyIn(w,e.toCssString())}setComponentBackground(t,e){this.setPropertyIn(k,t.toCssString()),this.setPropertyIn(y,e.toCssString())}setBordersColors(t,e){this.setPropertyIn(b,t.toCssString()),this.setPropertyIn(M,e.toCssString())}setColor(t,e){var i,s;const n=C[t],r=e.base;if(!J(n)||!J(r))return;const o=null!==(i=e.muted)&&void 0!==i?i:r.clone().lighten(_e(this,$e)),h=null!==(s=e.active)&&void 0!==s?s:r.clone().darken(_e(this,Oe));_e(this,Ne).mutate(()=>{this.setProperty(n.base,r.toCssString()),this.setProperty(n.active,h.toCssString()),this.setProperty(n.muted,o.toCssString())},this)}setLightenFactor(t){Re(this,$e,et(t,0,100))}setDarkenFactor(t){Re(this,Oe,et(t,0,100))}setProperty(t,e){_e(this,He).style.setProperty(t,e)}setPropertyIn(t,e){nt(e,t)&&_e(this,Ne).mutate(this.setProperty,this,t,e)}}He=new WeakMap,Ne=new WeakMap,$e=new WeakMap,Oe=new WeakMap;var Fe,Ue,ze,Ve,je,Xe,Ye,Ke,Ze=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ge=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Je{constructor(t,e){var i;Fe.set(this,void 0),Ue.set(this,void 0),ze.set(this,void 0),Ve.set(this,void 0),je.set(this,void 0),Xe.set(this,void 0),Ye.set(this,void 0),Ke.set(this,void 0),Ze(this,Fe,[]),Ze(this,Ue,[]),Ze(this,ze,window.innerWidth),Ze(this,Ve,!1),Ze(this,je,(i=window.innerWidth)<=640?"small":i>640&&i<=960?"medium":i>960&&i<=1200?"large":"xlarge"),Ze(this,Xe,null!=e?e:0),Ze(this,Ye,t),Ze(this,Ke,this.listener.bind(this))}observe(t){Ge(this,Fe).findIndex(e=>e===t)<0&&Ge(this,Fe).push(t)}unobserve(t){let e=Ge(this,Fe).findIndex(e=>e===t);e>=0&&Ge(this,Fe).splice(e,1)}connect(){window.addEventListener("resize",Ge(this,Ke))}disconnect(){window.removeEventListener("resize",Ge(this,Ke))}pushUpdateToItems(t){Ge(this,Fe).length<1||(Ze(this,Ue,[]),Ge(this,Fe).forEach(e=>{Ge(this,Ue).push(e.resize(t))}),Promise.all(Ge(this,Ue)),Ze(this,Ue,[]))}listener(t){if(Ge(this,Ve))return;Ze(this,Ve,!0);const e=window.innerWidth-Ge(this,ze);if(Math.abs(e)>=Ge(this,Xe)){const t=rt(window.innerWidth);if(t!==Ge(this,je)){const e={current:t,previous:Ge(this,je),width:window.innerWidth,height:window.innerHeight,timestamp:Date.now()};Ge(this,Ye).emit(S,"",e),this.pushUpdateToItems(e),Ze(this,je,t)}}Ze(this,Ve,!1)}}Fe=new WeakMap,Ue=new WeakMap,ze=new WeakMap,Ve=new WeakMap,je=new WeakMap,Xe=new WeakMap,Ye=new WeakMap,Ke=new WeakMap;var Qe,ti=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ei=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ii{constructor(t){Qe.set(this,void 0),ti(this,Qe,t)}pushState(t,e,i,s,n){this.checkAndCall(()=>{ei(this,Qe).pushState(t,e,i,s,n)})}registerElement(t,e,i){this.checkAndCall(()=>{ei(this,Qe).registerElement(t,e,i)})}unregisterElement(t,e){this.checkAndCall(()=>{ei(this,Qe).unregisterElement(t,e)})}setProperty(t,e,i,s){this.checkAndCall(()=>{ei(this,Qe).setProperty(t,e,i,s)})}log(t,e,i){this.checkAndCall(()=>{ei(this,Qe).log(t,e,i)})}checkAndCall(t){J(ei(this,Qe))&&t()}}Qe=new WeakMap;var si,ni=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ri=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class oi{constructor(t){si.set(this,void 0),this.setup=(new Mt).fromInit(t),this.interactions=class{static get(t,e){switch(t){case"async":const t=new Zt;return e&&t.onError(e),t;default:return new Gt}}}.get(t.interaction,this.onInteractionError.bind(this)),this.cache=new he(this.setup.cacheSize),this.bus=class{static get(t){return J(t)?new Pe(t):new Le(new me(new we))}}.get(t.busSetup),this.colors=new qe(this.interactions),this.development=new ii(t.development),this.styleAppender=new Be(this.interactions),ni(this,si,new Je(this.bus,this.setup.resizeThreshold)),ri(this,si).connect()}setLightMode(t){const e=Q(this.setup.prefix,d),i=document.body.classList;"dark"!==t||i.contains(e)?"light"===t&&i.contains(e)&&this.interactions.mutate(()=>{i.remove(e)},this):this.interactions.mutate(()=>{i.add(e)},this)}getLightMode(){const t=Q(this.setup.prefix,d);return document.body.classList.contains(t)?"dark":"light"}setPrintMode(t){const e=Q(this.setup.prefix,g),i=document.body.classList;t&&!i.contains(e)?i.add(e):!t&&i.contains(e)&&i.remove(e)}isPrintMode(){const t=Q(this.setup.prefix,g);return document.body.classList.contains(t)}setProperty(t,e){if(!nt(t,e))throw new l("Property or value was not provided");let i=gt(t,this.setup.prefix);document.documentElement.style.setProperty(i,e)}onInteractionError(t){console.error("An error has been captured from interactions"),console.error(t)}}si=new WeakMap;var hi,ai=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},li=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ci=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ui{constructor(t){hi.set(this,void 0),li(this,hi,t)}performAction(t,e,i,s){return ai(this,void 0,void 0,(function*(){return new Promise(n=>{ci(this,hi).mutate(()=>{e.add(t),t.classList.add(p),setTimeout(()=>{ci(this,hi).mutate(()=>{e.remove(t),t.classList.remove(p),s&&s(),n(!0)},null)},i)},null)})}))}performActions(t,e,i,s){return ai(this,void 0,void 0,(function*(){return new Promise(n=>{ci(this,hi).mutate(()=>{e.forEach(e=>e.add(t)),t.classList.add(p),setTimeout(()=>{ci(this,hi).mutate(()=>{e.forEach(e=>e.remove(t)),t.classList.remove(p),s&&s(),n(!0)},null)},i)},null)})}))}performSwitchAction(t,e,i,s,n,r){return ai(this,void 0,void 0,(function*(){return new Promise(o=>{ci(this,hi).mutate(()=>{i.forEach(e=>e.add(t)),t.classList.add(p),J(e)&&(s.forEach(t=>t.add(e)),e.classList.add(p)),setTimeout(()=>{ci(this,hi).mutate(()=>{i.forEach(e=>e.remove(t)),t.classList.remove(p),J(e)&&(s.forEach(t=>t.remove(e)),e.classList.remove(p)),n(),o(!0)},null)},r)},null)})}))}}hi=new WeakMap;var di,pi,gi,vi,mi,fi,wi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ki=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class yi{constructor(t){di.set(this,void 0),wi(this,di,t)}add(t,e){nt(t,ki(this,di))&&!t.classList.contains(ki(this,di))&&t.classList.add(ki(this,di))}remove(t,e){nt(t,ki(this,di))&&t.classList.contains(ki(this,di))&&t.classList.remove(ki(this,di))}toggle(t,e){nt(t,ki(this,di))&&(t.classList.contains(ki(this,di))?t.classList.remove(ki(this,di)):t.classList.add(ki(this,di)))}}di=new WeakMap;class bi{constructor(t){pi.set(this,void 0),wi(this,pi,t)}add(t,e){if(e)switch(ki(this,pi)){case"dark-mode":e.setLightMode("dark");break;case"light-mode":e.setLightMode("light")}}remove(t,e){if(e)switch(ki(this,pi)){case"dark-mode":e.setLightMode("light");break;case"light-mode":e.setLightMode("dark")}}toggle(t,e){if(e)switch(ki(this,pi)){case"dark-mode":case"light-mode":this.setDarkMode(e)}}setDarkMode(t){"dark"===t.getLightMode()?t.setLightMode("light"):t.setLightMode("dark")}}pi=new WeakMap;class Mi{constructor(t){var e,i;gi.set(this,void 0),vi.set(this,void 0),e=this,i=this,[{set value(t){wi(e,gi,t)}}.value,{set value(t){wi(i,vi,t)}}.value]=bt(t)}add(t,e){nt(t,ki(this,gi),ki(this,vi))&&t.setAttribute(ki(this,gi),ki(this,vi))}remove(t,e){nt(t,ki(this,gi),ki(this,vi))&&t.hasAttribute(ki(this,gi))&&t.removeAttribute(ki(this,gi))}toggle(t,e){nt(t,ki(this,gi),ki(this,vi))&&(t.hasAttribute(ki(this,gi))?t.removeAttribute(ki(this,gi)):t.setAttribute(ki(this,gi),ki(this,vi)))}}gi=new WeakMap,vi=new WeakMap;class Ci{constructor(t){var e,i;mi.set(this,void 0),fi.set(this,void 0),e=this,i=this,[{set value(t){wi(e,mi,t)}}.value,{set value(t){wi(i,fi,t)}}.value]=bt(t)}add(t,e){if(!nt(t,ki(this,mi),ki(this,fi)))return;let i=t;i.style&&!i.style[ki(this,mi)]&&(i.style[ki(this,mi)]=ki(this,fi))}remove(t,e){if(!nt(t,ki(this,mi),ki(this,fi)))return;let i=t;i.style&&i.style[ki(this,mi)]&&(i.style[ki(this,mi)]="")}toggle(t,e){if(!nt(t,ki(this,mi),ki(this,fi)))return;let i=t;i.style&&(i.style[ki(this,mi)]?delete i.style[ki(this,mi)]:i.style[ki(this,mi)]=ki(this,fi))}}mi=new WeakMap,fi=new WeakMap;class Ai{constructor(){}add(t,e){}remove(t,e){}toggle(t,e){}}class Ei{static get(t){if(!J(t))return new Ai;switch(t[0]){case".":return new yi(t.substring(1));case"~":return new bi(t.substring(1));case"&":return new Mi(t.substring(1));case"^":return new Ci(t.substring(1));default:return new yi(t)}}}class Wi{static get(t){if(!J(t))return[];return t.split(",").map(t=>Ei.get(t.trim()))}}var Ti,Si,xi,Li,Pi,Ii,Di=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Bi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Hi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ni{constructor(t,e){Ti.set(this,void 0),Si.set(this,void 0),xi.set(this,void 0),Li.set(this,void 0),Pi.set(this,void 0),Ii.set(this,void 0),Bi(this,Ti,t),Bi(this,Si,!1),Bi(this,xi,Et.get("ElementManager")),Bi(this,Pi,e),Bi(this,Li,Date.now()),Bi(this,Ii,new ui(e.interactions))}toggleClass(t){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(e=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)},"toggleClass")}))}toggleClassAs(t){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(e=>{let i=e.classList;Hi(this,Pi).interactions.fetch(()=>{i.contains(t)?Hi(this,Pi).interactions.mutate(i.remove,i,t):Hi(this,Pi).interactions.mutate(i.add,i,t)},this)},"toggleClassAs")}))}setClass(t){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(e=>{e.classList.contains(t)||e.classList.add(t)},"setClass")}))}setClassAs(t){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(e=>{let i=e.classList;Hi(this,Pi).interactions.fetch(()=>{i.contains(t)||Hi(this,Pi).interactions.mutate(i.add,i,t)},this)},"setClassAs")}))}removeClass(t){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(e=>{e.classList.contains(t)&&e.classList.remove(t)},"removeClass")}))}removeClassAs(t){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(e=>{let i=e.classList;Hi(this,Pi).interactions.fetch(()=>{i.contains(t)&&Hi(this,Pi).interactions.mutate(i.remove,i,t)},this)},"removeClass")}))}getAttribute(t){return J(t)?Hi(this,Ti).reduce((e,i)=>{let s=i.getAttribute(t);return null!=s&&e.push(s),e},[]):[]}setAttribute(t,e){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(i=>{i.setAttribute(t,null!=e?e:"")},"setAttribute")}))}setAttributeAs(t,e){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(i=>{Hi(this,Pi).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},"setAttributeAs")}))}removeAttribute(t){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(e=>{e.removeAttribute(t)},"removeAttribute")}))}removeAttributeAs(t){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(e=>{Hi(this,Pi).interactions.mutate(e.removeAttribute,e,t)},"removeAttributeAs")}))}toggleAttribute(t,e){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(i=>{i.hasAttribute(t)?i.removeAttribute(t):i.setAttribute(t,null!=e?e:"")},"toggleAttribute")}))}toggleAttributeAs(t,e){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(i=>{Hi(this,Pi).interactions.fetch(()=>{i.hasAttribute(t)?Hi(this,Pi).interactions.mutate(i.removeAttribute,i,t):Hi(this,Pi).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},this)},"toggleAttributeAs")}))}click(t){return Di(this,void 0,void 0,(function*(){return!!J(t)&&this.call(e=>{e.addEventListener("click",t)},"click")}))}event(t,e){return Di(this,void 0,void 0,(function*(){return!(!J(t)||!J(e))&&this.call(i=>{i.addEventListener(t,e)},"event")}))}call(t,e){return Di(this,void 0,void 0,(function*(){return Hi(this,Si)&&Hi(this,xi).error("Element is locked",e),this.lock(),Hi(this,Ti).forEach((e,i)=>{t(e,i)}),this.unlock(),!0}))}animate(t,e){return Di(this,void 0,void 0,(function*(){if(!J(t))return!1;const i=null!=e?e:Hi(this,Pi).setup.animationTime;return this.call(e=>{this.change(()=>{e.classList.add(t),e.classList.add(p),setTimeout(()=>{this.change(()=>{e.classList.remove(t),e.classList.remove(p)})},i)})})}))}open(t,e,i){return Di(this,void 0,void 0,(function*(){if(!nt(t,e))return!1;const s=null!=i?i:Hi(this,Pi).setup.animationTime,n=new yi(e);return this.call(e=>{Hi(this,Ii).performAction(e,n,null!=s?s:0).then(()=>{e.classList.add(t)})})}))}close(t,e,i){return Di(this,void 0,void 0,(function*(){if(!nt(t,e))return!1;const s=null!=i?i:Hi(this,Pi).setup.animationTime,n=new yi(e);return this.call(e=>{Hi(this,Ii).performAction(e,n,null!=s?s:0).then(()=>{e.classList.remove(t)})})}))}emit(t,...e){J(t)?this.call(i=>{let s=i.$cuid;J(s)&&(Hi(this,xi).debug(`Emitting event ${t} to ${s}`),Hi(this,Pi).bus.emit(t,s,...e))},"emit"):Hi(this,xi).warning("Not enough data to emit event","emit")}on(t,e){let i=[];return nt(t,e)?(this.call(s=>{let n=s;if(J(n)){let s=Hi(this,Pi).bus.on(t,e,n);null!=s&&i.push(s)}},"on"),i):(Hi(this,xi).error("Incorrect arguments","on"),i)}detach(t,e){nt(t,e)||Hi(this,xi).error("Incorrect arguments","detach"),this.call(i=>{let s=i;J(s)&&Hi(this,Pi).bus.detach(t,e,s)},"detach")}read(t,...e){Hi(this,Pi).interactions.fetch(t,this,...e)}change(t,...e){Hi(this,Pi).interactions.mutate(t,this,...e)}elements(){return Hi(this,Ti)}count(){return Hi(this,Ti).length}lock(){Bi(this,Si,!0)}unlock(){Bi(this,Si,!1)}isLocked(){return Hi(this,Si)}refresh(){return Date.now()-Hi(this,Li)<36e4}}Ti=new WeakMap,Si=new WeakMap,xi=new WeakMap,Li=new WeakMap,Pi=new WeakMap,Ii=new WeakMap;var $i,Oi,Ri,_i,qi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Fi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ui{constructor(t){$i.set(this,void 0),Oi.set(this,void 0),Ri.set(this,void 0),_i.set(this,void 0),qi(this,_i,t),qi(this,Oi,[]),qi(this,Ri,void 0),qi(this,$i,void 0)}setId(t){return qi(this,$i,t),this}setClasses(...t){return qi(this,Oi,t),this}setAttributes(t){return qi(this,Ri,t),this}build(t){let e=document.createElement(Fi(this,_i));return J(Fi(this,$i))&&(e.id=Fi(this,$i)),J(Fi(this,Oi))&&e.classList.add(...Fi(this,Oi)),J(Fi(this,Ri))&&kt(Fi(this,Ri),(t,i)=>{e.setAttribute(t,i)}),J(t)&&(e.innerHTML=t),e}}$i=new WeakMap,Oi=new WeakMap,Ri=new WeakMap,_i=new WeakMap;var zi,Vi,ji,Xi,Yi,Ki,Zi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Gi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ji{constructor(t,e,i){zi.set(this,void 0),Vi.set(this,void 0),ji.set(this,void 0),Xi.set(this,void 0),Yi.set(this,void 0),Ki.set(this,void 0),Zi(this,Xi,t),Zi(this,zi,Zi(this,ji,Zi(this,Vi,void 0))),Zi(this,Yi,null!=i?i:""),Zi(this,Ki,e)}createHeader(t,e,i){J(e)||(e=[]),J(i)||(i=[]);let s=new Ui("div");s.setClasses(Gi(this,Xi)+"-dialog-header",...e),Zi(this,zi,s.build());let n=new Ui("span").setClasses(this.getPrefixedString("-dialog-title")).build(t);Gi(this,zi).appendChild(n),this.appendChildrens(Gi(this,zi),...i)}createFooter(t,e){J(t)||(t=[]),J(e)||(e=[]),Zi(this,ji,new Ui("div").setClasses(this.getPrefixedString("-dialog-footer"),...t).build()),this.appendChildrens(Gi(this,ji),...e)}createBody(t,e){J(t)||(t=[]),J(e)||(e=[]),Zi(this,Vi,new Ui("div").setClasses(this.getPrefixedString("-dialog-body"),...t).build()),this.appendChildrens(Gi(this,Vi),...e)}build(t){let e=[this.getPrefixedString("-dialog")];Gi(this,Ki)&&e.push(this.getPrefixedString("-reverse-auto"));let i=new Ui("div").setId(t).setClasses(...e).setAttributes({[this.getPrefixedString("-dialog")]:Gi(this,Yi)}).build(),s=new Ui("div").setClasses(this.getPrefixedString("-dialog-container")).build();return Gi(this,zi)&&s.appendChild(Gi(this,zi)),Gi(this,Vi)&&s.appendChild(Gi(this,Vi)),Gi(this,ji)&&s.appendChild(Gi(this,ji)),i.appendChild(s),i}appendChildrens(t,...e){J(e)&&e.forEach(e=>t.appendChild(e))}getPrefixedString(t){return Gi(this,Xi)+t}}zi=new WeakMap,Vi=new WeakMap,ji=new WeakMap,Xi=new WeakMap,Yi=new WeakMap,Ki=new WeakMap;var Qi,ts,es,is,ss,ns,rs,os,hs=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},as=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ls{constructor(t,e,i){Qi.set(this,void 0),ts.set(this,void 0),es.set(this,void 0),is.set(this,void 0),ss.set(this,void 0),hs(this,Qi,{yes:i.onYes,no:i.onNo,cancel:i.onCancel,ok:i.onOk}),this.content=i.message,this.title=i.title,this.prefix=t.setup.prefix,hs(this,ts,t),hs(this,es,e),this.reverse=!1,hs(this,ss,null),this.closeStr=as(this,ts).setup.prefix+"-close",this.iconStr=as(this,ts).setup.prefix+"-icon",hs(this,is,void 0)}getId(){return as(this,es)}show(t){let e=document.getElementById(as(this,es));J(e)?this.updateElement(e):(e=this.createElement(),t.appendChild(e)),setTimeout(()=>{hs(this,is,new Ni([e],as(this,ts)));let t=as(this,is).on("closed",this.onClose.bind(this));hs(this,ss,t.length>0?t[0]:null),as(this,is).emit("open")},100)}updateElement(t){let e=t.querySelector(`.${this.prefix}-dialog-title`),i=t.querySelector(`.${this.prefix}-dialog-body>p`);as(this,ts).interactions.mutate(()=>{e&&(e.innerHTML=this.title),i&&(i.innerHTML=this.content)},null)}onClose(t){try{if(J(t)&&t.state&&as(this,Qi)&&J(as(this,Qi)[t.state])){let e=as(this,Qi)[t.state];e&&e()}}finally{null!=as(this,ss)&&(as(this,is)&&as(this,is).detach("closed",as(this,ss)),hs(this,ss,null)),hs(this,is,void 0)}}}Qi=new WeakMap,ts=new WeakMap,es=new WeakMap,is=new WeakMap,ss=new WeakMap;class cs extends ls{constructor(t,e,i){var s;super(t,e,i),ns.set(this,void 0),hs(this,ns,e),this.reverse=null!==(s=i.reverse)&&void 0!==s&&s}createElement(){let t=new Ji(this.prefix,this.reverse);return t.createHeader(this.title,[],[new Ui("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),t.createBody([],[new Ui("p").build(this.content)]),t.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new Ui("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: cancel"}).build("Cancel"),new Ui("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),t.build(as(this,ns))}}ns=new WeakMap;class us extends ls{constructor(t,e,i){var s;super(t,e,i),rs.set(this,void 0),hs(this,rs,e),this.content=i.message,this.title=i.title,this.prefix=t.setup.prefix,this.reverse=null!==(s=i.reverse)&&void 0!==s&&s}createElement(){let t=new Ji(this.prefix,this.reverse);return t.createHeader(this.title,[]),t.createBody([],[new Ui("p").build(this.content)]),t.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new Ui("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),t.build(as(this,rs))}}rs=new WeakMap;class ds extends ls{constructor(t,e,i){var s;super(t,e,i),os.set(this,void 0),hs(this,os,e),this.content=i.message,this.title=i.title,this.prefix=t.setup.prefix,this.reverse=null!==(s=i.reverse)&&void 0!==s&&s}createElement(){let t=new Ji(this.prefix,this.reverse);return t.createHeader(this.title,[],[new Ui("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),t.createBody([],[new Ui("p").build(this.content)]),t.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new Ui("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: no"}).build("No"),new Ui("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: yes"}).build("Yes")]),t.build(as(this,os))}}os=new WeakMap;var ps,gs,vs,ms,fs,ws,ks=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ys=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class bs{constructor(t){ps.set(this,void 0),gs.set(this,void 0),vs.set(this,void 0),ms.set(this,void 0),fs.set(this,void 0),ws.set(this,void 0),ks(this,vs,!1),ks(this,ps,null!=t?t:document.body),ks(this,ms,!1),ks(this,fs,!1),ks(this,gs,void 0),ks(this,ws,void 0),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this)}setCallback(t){ks(this,gs,t)}setTarget(t){ks(this,ws,t)}isInProgress(){return ys(this,vs)}preventDefault(t){ks(this,fs,t)}attach(){ys(this,ms)||(ys(this,ps).addEventListener("mousedown",this.onMouseDown,{passive:!1}),ys(this,ps).addEventListener("mouseup",this.onMouseUp,{passive:!1}),ys(this,ps).addEventListener("mousemove",this.onMouseMove,{passive:!1}),ys(this,ps).addEventListener("touchstart",this.onTouchStart,{passive:!1}),ys(this,ps).addEventListener("touchend",this.onTouchEnd,{passive:!1}),ys(this,ps).addEventListener("touchmove",this.onTouchMove,{passive:!1}),ks(this,ms,!0))}detach(){ys(this,ms)&&(ys(this,ps).removeEventListener("mousedown",this.onMouseDown,{passive:!1}),ys(this,ps).removeEventListener("mouseup",this.onMouseUp,{passive:!1}),ys(this,ps).removeEventListener("mousemove",this.onMouseMove,{passive:!1}),ys(this,ps).removeEventListener("touchstart",this.onTouchStart,{passive:!1}),ys(this,ps).removeEventListener("touchend",this.onTouchEnd,{passive:!1}),ys(this,ps).removeEventListener("touchmove",this.onTouchMove,{passive:!1}),ks(this,ms,!1))}isAttached(){return ys(this,ms)}onMouseDown(t){ys(this,vs)||ys(this,ws)&&!ys(this,ws).contains(t.target)||(ks(this,vs,!0),this.publishMouseEvent("down",t))}onMouseUp(t){ys(this,vs)&&(ks(this,vs,!1),this.publishMouseEvent("up",t))}onMouseMove(t){ys(this,vs)&&this.publishMouseEvent("move",t)}onTouchStart(t){ys(this,vs)||ys(this,ws)&&!ys(this,ws).contains(t.target)||(ks(this,vs,!0),this.publishTouchEvent("down",t))}onTouchEnd(t){ys(this,vs)&&(ks(this,vs,!1),this.publishTouchEvent("up",t))}onTouchMove(t){ys(this,vs)&&this.publishTouchEvent("move",t)}publishMouseEvent(t,e){ys(this,fs)&&e.cancelable&&e.preventDefault(),J(ys(this,gs))&&ys(this,gs).call(this,{type:t,x:e.clientX,y:e.clientY,moveX:e.movementX,moveY:e.movementY,target:e.target,event:e})}publishTouchEvent(t,e){if(ys(this,fs)&&e.cancelable&&e.preventDefault(),!J(ys(this,gs)))return;let i=null;e.touches.length>0?i=e.touches[0]:e.changedTouches.length>0&&(i=e.changedTouches[0]),ys(this,gs).call(this,{event:e,type:t,target:e.target,x:J(i)?i.clientX:-1,y:J(i)?i.clientY:-1,moveX:-1,moveY:-1})}}ps=new WeakMap,gs=new WeakMap,vs=new WeakMap,ms=new WeakMap,fs=new WeakMap,ws=new WeakMap;var Ms,Cs,As,Es,Ws,Ts=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ss=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class xs{constructor(t){Ms.set(this,void 0),Cs.set(this,void 0),As.set(this,void 0),Es.set(this,void 0),Ws.set(this,void 0),Ts(this,Ms,t),Ts(this,Cs,new bs),Ss(this,Cs).setCallback(this.onMove.bind(this)),Ts(this,Ws,void 0),Ts(this,As,!1),Ts(this,Es,null)}attach(){Ss(this,Cs).isAttached()||(Ss(this,Cs).attach(),Ts(this,Es,Ss(this,Ms).on(j,this.onMoveLock.bind(this))))}detach(){Ss(this,Cs).isAttached()&&(Ss(this,Cs).detach(),null!=Ss(this,Es)&&Ss(this,Ms).detach(j,Ss(this,Es)))}isAttached(){return Ss(this,Cs).isAttached()}onMove(t){if(!Ss(this,As))switch(t.type){case"down":Ts(this,Ws,t);break;case"move":Ss(this,Ws)&&(Ss(this,Ms).emit(V,null,Ss(this,Ws)),Ts(this,Ws,void 0)),Ss(this,Ms).emit(V,null,t);break;case"up":if(Ss(this,Ws))return void Ts(this,Ws,void 0);Ss(this,Ms).emit(V,null,t)}}onMoveLock(t){Ts(this,As,t)}}Ms=new WeakMap,Cs=new WeakMap,As=new WeakMap,Es=new WeakMap,Ws=new WeakMap;var Ls,Ps,Is,Ds,Bs,Hs,Ns,$s,Os=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Rs=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},_s=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class qs{constructor(t,e,i){Ls.set(this,void 0),Ps.set(this,void 0),Is.set(this,void 0),Ds.set(this,void 0),Bs.set(this,void 0),Hs.set(this,void 0),Ns.set(this,void 0),$s.set(this,void 0),Rs(this,Ls,t),Rs(this,Ps,`.${e}-toast`),Rs(this,Is,e+"-toast"),Rs(this,Ds,e+"-active"),Rs(this,Bs,i),Rs(this,Hs,!1),Rs(this,Ns,e+"-toast-animation-in"),Rs(this,$s,e+"-toast-animation-out")}show(t){return Os(this,void 0,void 0,(function*(){if(_s(this,Hs))return!1;Rs(this,Hs,!0);let e=document.querySelector(_s(this,Ps));return J(e)||(e=document.createElement("div"),e.classList.add(_s(this,Is)),document.body.appendChild(e),yield tt(10)),_s(this,Ls).mutate(()=>{e.textContent=t,e.classList.add(p),e.classList.add(_s(this,Ns))},this),yield tt(_s(this,Bs)),_s(this,Ls).mutate(()=>{e.classList.remove(p),e.classList.remove(_s(this,Ns)),e.classList.add(_s(this,Ds))},this),yield tt(3e3),_s(this,Ls).mutate(()=>{e.classList.add(p),e.classList.add(_s(this,$s))},this),setTimeout(()=>{_s(this,Ls).mutate(()=>{e.classList.remove(p),e.classList.remove(_s(this,$s)),e.classList.remove(_s(this,Ds))},this),Rs(this,Hs,!1)},_s(this,Bs)),!0}))}}Ls=new WeakMap,Ps=new WeakMap,Is=new WeakMap,Ds=new WeakMap,Bs=new WeakMap,Hs=new WeakMap,Ns=new WeakMap,$s=new WeakMap;var Fs,Us,zs,Vs,js,Xs=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Ys=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ks=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Zs{constructor(t){Fs.set(this,void 0),Us.set(this,void 0),zs.set(this,void 0),Vs.set(this,void 0),js.set(this,void 0),Ys(this,js,t),Ys(this,Us,Et.get("CollectionManager")),Ys(this,Fs,[]),Ys(this,zs,!1),Ys(this,Vs,"")}setElements(t){Ys(this,Fs,t)}setToggle(t){Ys(this,Vs,t)}addAnimationClass(t,e,i,s){e.classList.add(p),t.classList.add(s),e.classList.add(i)}setFinalClasses(t,e,i,s){e.classList.remove(p),t.classList.remove(s),e.classList.remove(i),t.classList.remove(Ks(this,Vs)),e.classList.add(Ks(this,Vs))}verifyIndex(t,e,i){return t>=0&&t!==e&&t<i}setCurrent(t,e){return Xs(this,void 0,void 0,(function*(){return this.lock(),Ks(this,Us).debug(`Switching index from: ${e} to ${t}`),e>-1&&Ks(this,Fs)[e].classList.remove(Ks(this,Vs)),Ks(this,Fs)[t].classList.add(Ks(this,Vs)),this.unlock(),!0}))}setCurrentWithAnimation(t,e,i,s,n){return Xs(this,void 0,void 0,(function*(){this.lock(),Ks(this,Us).debug(`Switching index from: ${n} to ${t}`);const r=Ks(this,Fs)[n],o=Ks(this,Fs)[t];return Ks(this,js).mutate(this.addAnimationClass,this,r,o,e,i),setTimeout(()=>{Ks(this,js).mutate(this.setFinalClasses,this,r,o,e,i),this.unlock()},s),!0}))}getCurrentIndex(){if(!J(Ks(this,Vs)))return-1;let t=this.count();for(let e=0;e<t;e++)if(Ks(this,Fs)[e].classList.contains(Ks(this,Vs)))return e;return-1}elements(){return Ks(this,Fs)}check(){return Ks(this,zs)?(Ks(this,Us).warning("Object locked. Operation in progress","Check"),!1):J(Ks(this,Vs))?!(this.count()<=0)||(Ks(this,Us).warning("Elements list is empty","Check"),!1):(Ks(this,Us).warning("Toggle is not set. Call setToggleClass","Check"),!1)}count(){return Ks(this,Fs)?Ks(this,Fs).length:-1}lock(){Ys(this,zs,!0)}unlock(){Ys(this,zs,!1)}}Fs=new WeakMap,Us=new WeakMap,zs=new WeakMap,Vs=new WeakMap,js=new WeakMap;var Gs,Js,Qs,tn=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},en=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},sn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class nn{constructor(t,e){Gs.set(this,void 0),Js.set(this,void 0),Qs.set(this,void 0),en(this,Gs,Et.get("CollectionManager")),en(this,Qs,new Zs(e)),sn(this,Qs).setElements(t),en(this,Js,Date.now())}setToggle(t){sn(this,Qs).setToggle(t)}setElements(t){sn(this,Qs).setElements(t)}click(t){sn(this,Qs).elements().forEach((e,i)=>{e.addEventListener("click",()=>{this.set(i).then(()=>{t&&t(e,i)})})})}next(){return tn(this,void 0,void 0,(function*(){if(!sn(this,Qs).check())return!1;let t=sn(this,Qs).getCurrentIndex()+1;return this.set(t>=this.length()?0:t)}))}previous(){return tn(this,void 0,void 0,(function*(){if(!sn(this,Qs).check())return!1;let t=sn(this,Qs).getCurrentIndex()-1;return this.set(t<0?this.length()-1:t)}))}set(t){return tn(this,void 0,void 0,(function*(){let e=sn(this,Qs).getCurrentIndex();return!(!sn(this,Qs).check()||!sn(this,Qs).verifyIndex(t,e,this.length()))&&sn(this,Qs).setCurrent(t,e)}))}setWithAnimation(t,e,i,s){return tn(this,void 0,void 0,(function*(){let n=sn(this,Qs).getCurrentIndex();return!(!sn(this,Qs).check()||!sn(this,Qs).verifyIndex(t,n,this.length()))&&sn(this,Qs).setCurrentWithAnimation(t,e,i,s,n)}))}getCurrentIndex(){return sn(this,Qs).getCurrentIndex()}length(){return sn(this,Qs).count()}refresh(){return this.length()>0&&Date.now()-sn(this,Js)>36e4}}Gs=new WeakMap,Js=new WeakMap,Qs=new WeakMap;var rn,on,hn,an=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},ln=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},cn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class un{constructor(t){rn.set(this,void 0),on.set(this,void 0),hn.set(this,void 0),ln(this,rn,null!=t?t:[]),ln(this,hn,Et.get("CuiPluginManager")),ln(this,on,[])}init(t){cn(this,hn).debug("Plugins initialization started: "+cn(this,rn).length),ln(this,on,cn(this,rn).filter(t=>J(t.mutation))),cn(this,rn).forEach(e=>{e.init(t),t.setup.plugins[e.description]=e.setup}),cn(this,hn).debug("Plugins have been initialized")}get(t){if(J(t))return cn(this,rn).find(e=>e.name===t)}onMutation(t){return an(this,void 0,void 0,(function*(){let e=[];return cn(this,on).forEach(i=>{e.push(i.mutation(t))}),!(yield Promise.all(e)).find(t=>{})}))}}rn=new WeakMap,on=new WeakMap,hn=new WeakMap;var dn,pn,gn,vn,mn,fn,wn,kn,yn,bn=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Mn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Cn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class An{constructor(t,e,i){dn.set(this,void 0),pn.set(this,void 0),gn.set(this,void 0),vn.set(this,void 0),mn.set(this,void 0),fn.set(this,void 0),wn.set(this,void 0),kn.set(this,void 0),yn.set(this,void 0),E.prefix=t.prefix,E.logLevel=t.logLevel,Mn(this,mn,new un(e)),Mn(this,fn,null!=i?i:[]),Mn(this,vn,new oi(t)),Mn(this,dn,Et.get("CuiInstance")),Mn(this,wn,t.root),Mn(this,kn,new xs(Cn(this,vn).bus)),Mn(this,pn,void 0),Mn(this,gn,void 0),Mn(this,yn,[])}init(){var t;if(Cn(this,dn).debug("Instance started","init"),!J(window.MutationObserver))throw new o("Mutation observer does not exists");Mn(this,gn,new qs(Cn(this,vn).interactions,Cn(this,vn).setup.prefix,null!==(t=Cn(this,vn).setup.animationTimeLong)&&void 0!==t?t:0)),Mn(this,yn,Cn(this,fn).map(t=>t.attribute));const e=J(Cn(this,yn))?Cn(this,wn).querySelectorAll(st(Cn(this,yn))):null;if(J(e)){Cn(this,dn).debug(`Initiating ${e.length} elements`);try{e.forEach(t=>{mt(t,Cn(this,fn),Cn(this,yn),Cn(this,vn))})}catch(t){Cn(this,dn).exception(t)}}return Cn(this,dn).debug("Init plugins","init"),Cn(this,mn).init(Cn(this,vn)),nt(Cn(this,fn),Cn(this,yn))&&(Cn(this,dn).debug("Init mutation observer","init"),Mn(this,pn,new _t(Cn(this,wn),Cn(this,vn))),Cn(this,pn).setComponents(Cn(this,fn)).setAttributes(Cn(this,yn)),Cn(this,pn).setPlugins(Cn(this,mn)),Cn(this,pn).start()),Cn(this,dn).debug("Setting CSS globals","init"),Cn(this,vn).interactions.mutate(()=>{Cn(this,vn).setProperty(A.animationTimeLong,Cn(this,vn).setup.animationTimeLong+"ms"),Cn(this,vn).setProperty(A.animationTime,Cn(this,vn).setup.animationTime+"ms"),Cn(this,vn).setProperty(A.animationTimeShort,Cn(this,vn).setup.animationTimeShort+"ms")},null),Cn(this,kn).attach(),Cn(this,vn).bus.emit(W,null),this}finish(){Cn(this,pn)&&Cn(this,pn).stop(),Cn(this,kn).detach(),Cn(this,vn).bus.emit(T,null)}get(t){const e=this.all(t);if(!e)return;return new Ni(e,Cn(this,vn))}collection(t){const e=this.all(t);if(!J(e))return;return new nn(e,Cn(this,vn).interactions)}toast(t){return bn(this,void 0,void 0,(function*(){return!!nt(t,Cn(this,gn))&&Cn(this,gn).show(t)}))}select(t){return document.querySelector(t)}all(t){const e=document.querySelectorAll(t);if(J(e))return[...e]}getUtils(){return Cn(this,vn)}on(t,e,i){nt(t,e)||Cn(this,dn).error("Incorrect arguments","on"),Cn(this,vn).bus.on(t,e,i)}detach(t,e){nt(t,e)||Cn(this,dn).error("Incorrect arguments","detach"),Cn(this,vn).bus.detach(t,e)}detachAll(t){J(t)||Cn(this,dn).error("Incorrect arguments","detachAll"),Cn(this,vn).bus.detachAll(t)}emit(t,e,...i){if(!nt(t,e))return void Cn(this,dn).warning("Not enough data to emit event","emit");let s=("string"==typeof e?document.querySelector(e):e).$cuid;J(s)?Cn(this,vn).bus.emit(t,s,...i):Cn(this,dn).warning("Element is not a cUI element","emit")}alert(t,e,i){let s=class{static get(t,e,i,s){return"Info"===e?new us(s,t,i):"YesNoCancel"===e?new ds(s,t,i):"OkCancel"===e?new cs(s,t,i):void 0}}.get(t,e,i,Cn(this,vn));s?s.show(Cn(this,wn)):Cn(this,dn).error("Possibly incorrect alert type")}getPlugin(t){return Cn(this,mn).get(t)}createCuiElement(t,e,i){return J(e)&&Cn(this,yn).includes(e)?!!function(t,e,i){if(!nt(e,i,t))return!1;if(t.hasAttribute(e))return!1;let s=[];return kt(i,(t,e)=>{s.push(`${t}: ${e}`)}),t.setAttribute(e,s.join("; ")),!0}(t,e,i)||(Cn(this,dn).error("Element cannot be created: Missing data"),!1):(Cn(this,dn).error("Element cannot be created: Unknown attribute"),!1)}}dn=new WeakMap,pn=new WeakMap,gn=new WeakMap,vn=new WeakMap,mn=new WeakMap,fn=new WeakMap,wn=new WeakMap,kn=new WeakMap,yn=new WeakMap;const En={slide:{current:{left:{transform:{translateX:{from:0,to:-100,unit:"%"}}},right:{transform:{translateX:{from:0,to:100,unit:"%"}}}},previous:{left:{transform:{translateX:{from:100,to:0,unit:"%"}}},right:{transform:{translateX:{from:-100,to:0,unit:"%"}}}}},fade:{current:{left:{opacity:{from:1,to:0}},right:{opacity:{from:1,to:0}}},previous:{left:{opacity:{from:0,to:1}},right:{opacity:{from:0,to:1}}}},push:{current:{left:{transform:{translateX:{from:0,to:-10,unit:"%"}}},right:{transform:{translateX:{from:0,to:10,unit:"%"}}}},previous:{left:{transform:{translateX:{from:100,to:0,unit:"%"}}},right:{transform:{translateX:{from:-100,to:0,unit:"%"}}}}}};var Wn,Tn=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Sn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},xn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ln{constructor(){Wn.set(this,void 0),Sn(this,Wn,window)}init(t){var e,i;return Tn(this,void 0,void 0,(function*(){let s=Object.assign(Object.assign({},new Ct),t.setup);const n=s.app,r={result:!1};if(J(xn(this,Wn)[n]))return r.message="Instance is already initialized",r;if(J(t.icons))for(let e in t.icons)m[e]=t.icons[e];if(J(t.swipeAnimations))for(let e in t.swipeAnimations)En[e]=t.swipeAnimations[e];try{xn(this,Wn)[n]=new An(s,null!==(e=t.plugins)&&void 0!==e?e:[],null!==(i=t.components)&&void 0!==i?i:[]),xn(this,Wn)[n].init()}catch(t){return console.error(t),r.message="An error occured during initialization",r}return r.result=!0,r}))}}Wn=new WeakMap;class Pn{static setLabel(t,e){t.hasAttribute("aria-label")||t.setAttribute("aria-label",e)}static setAria(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}static removeAria(t,e){t.hasAttribute(e)&&t.removeAttribute(e)}}var In,Dn,Bn,Hn,Nn,$n,On,Rn,_n,qn=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Fn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Un=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class zn{constructor(t){In.set(this,void 0),Fn(this,In,t)}hasClass(t,e){return!(!t||!e.classList.contains(t))}setClass(t,e){this.setClasses([t],e)}setClasses(t,e){e&&e.classList.add(...t)}setClassesAs(t,...e){Un(this,In).mutate(this.setClasses,this,e,t)}removeClass(t,e){this.removeClasses([t],e)}removeClasses(t,e){e&&e.classList.remove(...t)}removeClassesAs(t,...e){Un(this,In).mutate(this.removeClasses,this,e,t)}removeAttribute(t,e){e&&e.hasAttribute(t)&&e.removeAttribute(t)}setStyle(t,e,i){t&&t.style&&J(i)&&(t.style[e]=i)}}In=new WeakMap;Dn=new WeakMap;class Vn extends class{constructor(t,e,i){var s;Dn.set(this,void 0),this._log=Et.get(t),this.utils=i,this.element=e,this.cuid=e.$cuid,this.isLocked=!1,this._log.setId(this.cuid),this.activeClassName=(null!=(s=i.setup.prefix)?s:"")+"-active",this.helper=new zn(i.interactions),Fn(this,Dn,[]),this.componentName=t}mutate(t,...e){this.utils.interactions.mutate(t,this,...e)}fetch(t,...e){this.utils.interactions.fetch(t,this,...e)}getEventName(t){return[t,this.cuid].join("-")}emitEvent(t,...e){Un(this,Dn).includes(t)||Un(this,Dn).push(t),this.utils.bus.emit(t,this.cuid,...e)}onEvent(t,e){return this.utils.bus.on(t,e,this.element)}detachEvent(t,e){null!=e&&(this.utils.bus.detach(t,e),e="")}getId(){return this.cuid}checkLockAndWarn(t){return!!this.isLocked&&(this._log.warning("Component is locked",t),!0)}isActive(){return this.element.classList.contains(this.activeClassName)}detachEmiitedEvents(){Un(this,Dn).forEach(t=>{this.utils.bus.detachByCuid(t,this.cuid),this._log.debug("Detaching event: "+t+" on component delete")})}registerInDebug(){this.utils.development.registerElement(this.element,this.cuid,this.componentName)}removeFromDebug(){this.utils.development.unregisterElement(this.cuid,this.componentName)}setDebugProperty(t,e){this.utils.development.setProperty(this.cuid,this.componentName,t,e)}logInfo(t,e){this._log.debug(t,e),this.utils.development.pushState(this.cuid,this.componentName,"info",t,e)}logWarning(t,e){this._log.warning(t,e),this.utils.development.pushState(this.cuid,this.componentName,"warning",t,e)}pushDebugState(t,e,i){this.utils.development.pushState(this.cuid,this.componentName,t,e,i)}logError(t,e,i){this._log.error(t,e),i&&this._log.exception(i,e),this.utils.development.pushState(this.cuid,this.componentName,"error",t,e)}}{constructor(t,e,i,s,n){super(t,e,n),Bn.set(this,void 0),this.args=s,this.actionsHelper=new ui(n.interactions),this.prevArgs=void 0,this.isInitialized=!1,Fn(this,Bn,i)}handle(t){this.logInfo("Init","handle"),this.isInitialized?this.logWarning("Trying to initialize component again","handle"):(this.args.parse(t),this.element.classList.contains(Un(this,Bn))||this.element.classList.add(Un(this,Bn)),this.registerInDebug(),this.onHandle(),this.isInitialized=!0)}refresh(t){var e;(this.logInfo("Update","refresh"),this.isInitialized)?(this.prevArgs=J(e=this.args)?Object.assign({},e):null,this.args.parse(t),this.pushDebugState("info","Component update","refresh"),this.onRefresh()):this.logError("Cannot update not initialized component","refresh")}destroy(){this.logInfo("Destroy","destroy"),this.onRemove(),this.detachEmiitedEvents(),this.removeFromDebug(),this.isInitialized=!1}}Bn=new WeakMap;class jn extends Vn{constructor(t,e,i,s,n){super(t,e,i,s,n)}onHandle(){this.onInit()}onRefresh(){this.onUpdate()}onRemove(){this.onDestroy()}performAction(t,e,i,s){return qn(this,void 0,void 0,(function*(){return!!(yield this.actionsHelper.performActions(this.element,t,e,s))&&(i(),!0)}))}}class Xn extends Vn{constructor(t,e,i,s,n){super(t,e,i,s,n),Hn.set(this,void 0),Nn.set(this,void 0),$n.set(this,void 0),On.set(this,void 0),Rn.set(this,void 0),Fn(this,Hn,null),Fn(this,Nn,null),Fn(this,$n,null),Fn(this,Rn,[]),Fn(this,On,[])}onHandle(){Fn(this,Hn,this.onEvent(x,this.openFromEvent.bind(this))),Fn(this,Nn,this.onEvent(P,this.closeFromEvent.bind(this))),Fn(this,On,Wi.get(this.args.openAct)),Fn(this,Rn,Wi.get(this.args.closeAct)),this.onInit()}onRefresh(){this.prevArgs&&this.args.openAct===this.prevArgs.openAct||Fn(this,On,Wi.get(this.args.openAct)),this.prevArgs&&this.args.closeAct===this.prevArgs.closeAct||Fn(this,Rn,Wi.get(this.args.closeAct)),this.onUpdate()}onRemove(){this.detachEvent(P,Un(this,Nn)),this.detachEvent(x,Un(this,Hn)),this.onDestroy()}open(t){return qn(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("open")&&(this.isActive()?(this.logWarning("Component is already opened"),!1):((this.args.escClose||J(this.args.keyClose))&&Fn(this,$n,this.onEvent(_,this.onKeyClose.bind(this))),!!this.onBeforeOpen()&&(this.isLocked=!0,this.performAction(Un(this,On),this.args.timeout,this.onActionFinish.bind(this,this.onAfterOpen.bind(this),L,t),()=>{this.helper.setClass(this.activeClassName,this.element),Pn.setAria(this.element,"aria-expanded","true")}))))}))}close(t){return qn(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("close")&&(this.isActive()?(this.detachEvent(_,Un(this,$n)),!!this.onBeforeClose()&&(this.isLocked=!0,this.performAction(Un(this,Rn),this.args.timeout,this.onActionFinish.bind(this,this.onAfterClose.bind(this),I,t),()=>{this.helper.removeClass(this.activeClassName,this.element),Pn.setAria(this.element,"aria-expanded","false")}))):(this.logWarning("Component is already closed"),!1))}))}performAction(t,e,i,s){return qn(this,void 0,void 0,(function*(){return!!(yield this.actionsHelper.performActions(this.element,t,e,s))&&(i(),!0)}))}openFromEvent(t){this.open(t)}closeFromEvent(t){this.close(t)}onActionFinish(t,e,i){t(),this.emitEvent(e,{timestamp:Date.now(),state:i}),this.isLocked=!1}onKeyClose(t){return qn(this,void 0,void 0,(function*(){(this.args.escClose&&"Escape"===t.event.key||J(this.args.keyClose)&&t.event.key===this.args.keyClose)&&(yield this.close("Closed by key"))}))}}Hn=new WeakMap,Nn=new WeakMap,$n=new WeakMap,On=new WeakMap,Rn=new WeakMap;class Yn extends Vn{constructor(t,e,i,s,n){super(t,e,i,s,n),_n.set(this,void 0),Fn(this,_n,new qt(e)),Un(this,_n).onMutation(this.mutation.bind(this))}onHandle(){this.onInit(),Un(this,_n).observe()}onRefresh(){Un(this,_n).unobserve(),this.onUpdate(),Un(this,_n).observe()}onRemove(){Un(this,_n).unobserve(),this.onDestroy()}mutation(t){this._log.debug("Element mutation","mutation"),this.onMutation(t.reduce((t,e)=>("childList"!==e.type||(e.addedNodes.length>0&&t.added.push(...e.addedNodes),e.removedNodes.length>0&&t.removed.push(...e.removedNodes)),t),{added:[],removed:[]}))}}_n=new WeakMap;var Kn,Zn,Gn,Jn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Qn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class tr{constructor(t){Kn.set(this,void 0),Zn.set(this,void 0),Gn.set(this,void 0),Jn(this,Kn,t),Jn(this,Zn,1),Jn(this,Gn,new er)}setScale(t){return Jn(this,Zn,t),this}build(){let t=function(t){if(!J(t))return null;let e=document.createElement("template");return e.innerHTML=t,e.content.children.length>0?e.content.children[0]:null}(Qn(this,Kn));return J(t)&&Qn(this,Zn)&&Qn(this,Gn).append(t,Qn(this,Zn)),t}}Kn=new WeakMap,Zn=new WeakMap,Gn=new WeakMap;class er{append(t,e){let i=ht(t.getAttribute("width"),20),s=ht(t.getAttribute("height"),20);t.setAttribute("width",(i*e).toString()),t.setAttribute("height",(s*e).toString())}}var ir,sr,nr,rr,or,hr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ar=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class lr{constructor(){this.progress=0}parse(t){J(t)?pt(t)?this.progress=ht(t,0):this.progress=ht(t.progress,0):this.progress=0}}class cr{constructor(t){this.attribute=(null!=t?t:"cui")+"-circle-progress",m.special_circle_progress='<svg xmlns="http://www.w3.org/2000/svg"  class="circle-progress" viewBox="0 0 100 100" width="100" height="100"><path class="circle-progress-path" d="M 50,5.3660047 A 44.867708,44.633994 0 0 1 94.867709,49.999997 44.867708,44.633994 0 0 1 50,94.633995 44.867708,44.633994 0 0 1 5.1322908,50.000001 44.867708,44.633994 0 0 1 50,5.3660047"></path></svg>'}getStyle(){return null}get(t,e){return new ur(t,e,this.attribute)}}class ur extends jn{constructor(t,e,i){super("CuiCircleHandler",t,i,new lr,e),ir.set(this,void 0),sr.set(this,void 0),nr.set(this,void 0),rr.set(this,void 0),or.set(this,void 0),hr(this,ir,hr(this,sr,0)),hr(this,nr,null),hr(this,rr,i),hr(this,or,null)}onInit(){const t=new tr(m.special_circle_progress).build();if(!J(t))return void this.logError("SVG circle was not created","onInit");const e=this.element.querySelector("svg");J(e)&&e.remove(),this.element.appendChild(t),hr(this,nr,this.element.querySelector(".circle-progress-path")),hr(this,sr,ar(this,nr).getTotalLength()),hr(this,ir,ar(this,sr)/100),this.fetch(this.readStyle),hr(this,or,this.onEvent(U,this.onSetProgress.bind(this)))}onUpdate(){this.fetch(this.readStyle),this.emitEvent(z,{timestamp:Date.now(),progress:this.args.progress})}onDestroy(){this.detachEvent(U,ar(this,or))}onSetProgress(t){J(t)&&this.element.setAttribute(ar(this,rr),t)}updateStyle(t){ar(this,nr).style.strokeDashoffset=t}readStyle(){if(this.prevArgs&&this.args.progress===this.prevArgs.progress)return;const t=et(this.args.progress,0,100);this.mutate(this.updateStyle,ar(this,sr)-ar(this,ir)*t)}}ir=new WeakMap,sr=new WeakMap,nr=new WeakMap,rr=new WeakMap,or=new WeakMap;var dr,pr,gr,vr=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},mr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},fr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class wr{constructor(t){dr.set(this,void 0),this.target="",this.action="",this.prevent=!1,this.state="",mr(this,dr,null!=t?t:300),this.timeout=fr(this,dr)}parse(t){if(J(t)&&pt(t))return this.target=t,this.action="",this.timeout=fr(this,dr),this.prevent=!1,void(this.state="");this.target=dt(t.target,""),this.action=t.action,this.timeout=ht(t.timeout,fr(this,dr)),this.prevent=t.prevent&&ut(t.prevent),this.state=t.state}}dr=new WeakMap;class kr{constructor(t){pr.set(this,void 0),mr(this,pr,null!=t?t:"cui"),this.attribute=fr(this,pr)+"-close"}getStyle(){return null}get(t,e){return new yr(t,e,this.attribute,fr(this,pr))}}pr=new WeakMap;class yr extends jn{constructor(t,e,i,s){super("CuiCloseHandler",t,i,new wr(e.setup.animationTime),e),gr.set(this,void 0),mr(this,gr,null),this.onClick=this.onClick.bind(this)}onInit(){this.element.addEventListener("click",this.onClick),mr(this,gr,this.onEvent(P,this.onClose.bind(this)))}onUpdate(){}onDestroy(){this.element.removeEventListener("click",this.onClick),this.detachEvent(P,fr(this,gr))}onClick(t){this.onClose(t),this.args.prevent&&t.preventDefault()}onClose(t){if(this.isLocked)return;const e=this.getTarget();J(e)?(this.isLocked=!0,this.run(e).then(e=>{this.onActionFinish(t,e)}).catch(t=>{this._log.exception(t)}).finally(()=>{this.isLocked=!1})):this._log.warning(`Target ${this.args.target} not found`,"onClick")}run(t){return vr(this,void 0,void 0,(function*(){let e=t.$cuid;if(J(e))return yield this.utils.bus.emit(P,e,this.args.state),!1;if(nt(this.args.action,this.args.timeout)){let e=Wi.get(this.args.action);return this.actionsHelper.performActions(t,e,this.args.timeout,()=>{this.removeActiveClass(t)})}return this.removeActiveClassAsync(t),!0}))}removeActiveClass(t){J(t)&&this.helper.hasClass(this.activeClassName,t)&&this.helper.removeClass(this.activeClassName,t)}removeActiveClassAsync(t){this.fetch(()=>{J(t)&&this.helper.hasClass(this.activeClassName,t)&&this.helper.removeClassesAs(t,this.activeClassName)})}onActionFinish(t,e){e&&this.emitClose(t)}getTarget(){var t;return J(this.args.target)&&null!==(t=document.querySelector(this.args.target))&&void 0!==t?t:ft(this.element)}emitClose(t){this.emitEvent(I,{timestamp:Date.now(),state:this.args.state,event:t})}}gr=new WeakMap;var br,Mr,Cr,Ar,Er,Wr,Tr,Sr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},xr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Lr{constructor(t,e){br.set(this,void 0),Mr.set(this,void 0),Sr(this,br,null!=e?e:300),Sr(this,Mr,t),this.escClose=!1,this.outClose=!1,this.timeout=xr(this,br),this.openAct="",this.closeAct="",this.keyClose=""}parse(t){this.escClose=ut(t.escClose),this.outClose=ut(t.outClose),this.keyClose=t.keyClose,this.timeout=ht(t.timeout,xr(this,br)),this.openAct=dt(t.openAct,gt(".{prefix}-dialog-default-in",xr(this,Mr))),this.closeAct=dt(t.closeAct,gt(".{prefix}-dialog-default-out",xr(this,Mr)))}}br=new WeakMap,Mr=new WeakMap;class Pr{constructor(t){Cr.set(this,void 0),Sr(this,Cr,null!=t?t:"cui"),this.attribute=xr(this,Cr)+"-dialog"}getStyle(){return null}get(t,e){return new Ir(t,e,this.attribute,xr(this,Cr))}}Cr=new WeakMap;class Ir extends Xn{constructor(t,e,i,s){super("CuiDialogHandler",t,i,new Lr(s,e.setup.animationTimeLong),e),Ar.set(this,void 0),Er.set(this,void 0),Wr.set(this,void 0),Tr.set(this,void 0),Sr(this,Er,gt("{prefix}-dialog-open",s)),Sr(this,Ar,s),Sr(this,Wr,0),Sr(this,Tr,null)}onInit(){Pn.setAria(this.element,"aria-modal","")}onUpdate(){}onDestroy(){}onBeforeOpen(){return!this.isAnyActive()&&(Sr(this,Wr,window.pageYOffset),!0)}onAfterOpen(){this.args.outClose&&Sr(this,Tr,this.onEvent(q,this.onWindowClick.bind(this))),this.helper.setClass(xr(this,Er),document.body),document.body.style.top=`-${xr(this,Wr)}px`}onAfterClose(){document.body.style.top="",window.scrollTo(0,-1*(xr(this,Wr)||0)),Sr(this,Wr,0),this.helper.removeClass(xr(this,Er),document.body),this.detachEvent(q,xr(this,Tr))}onBeforeClose(){return!0}isAnyActive(){return this.helper.hasClass(xr(this,Er),document.body)}onWindowClick(t){let e=this.element.querySelector(gt(".{prefix}-dialog-container",xr(this,Ar)));e&&!e.contains(t.target)&&this.close("out").then(()=>{this._log.debug("Closed by click outside")})}}Ar=new WeakMap,Er=new WeakMap,Wr=new WeakMap,Tr=new WeakMap;var Dr,Br,Hr,Nr,$r,Or,Rr,_r,qr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Fr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ur{constructor(t){Dr.set(this,void 0),Br.set(this,void 0),Hr.set(this,void 0),Nr.set(this,void 0),$r.set(this,void 0),Or.set(this,void 0),Rr.set(this,void 0),_r.set(this,void 0),qr(this,Dr,t),qr(this,Hr,!1),qr(this,Nr,!1),qr(this,$r,!1),qr(this,Br,void 0),qr(this,Rr,this.onMouseMove.bind(this)),qr(this,_r,this.onMouseOut.bind(this)),qr(this,Or,this.onMouseOver.bind(this))}setCallback(t){qr(this,Br,t)}isInProgress(){return Fr(this,Hr)}attach(){Fr(this,Dr).addEventListener("mouseover",Fr(this,Or)),Fr(this,Dr).addEventListener("mousemove",Fr(this,Rr)),Fr(this,Dr).addEventListener("mouseout",Fr(this,_r)),qr(this,$r,!0)}detach(){Fr(this,Dr).removeEventListener("mouseover",Fr(this,Or)),Fr(this,Dr).removeEventListener("mousemove",Fr(this,Rr)),Fr(this,Dr).removeEventListener("mouseout",Fr(this,_r)),qr(this,$r,!1)}emit(t,e){nt(Fr(this,Br))&&(!e&&Fr(this,Hr)||(qr(this,Hr,!0),window.requestAnimationFrame(this.invoke.bind(this,{isHovering:Fr(this,Nr),event:t,timestamp:Date.now()}))))}isAttached(){return Fr(this,$r)}invoke(t){Fr(this,Br)&&Fr(this,Br).call(this,t),qr(this,Hr,!1)}onMouseOver(t){qr(this,Nr,!0),this.emit(t,!0)}onMouseOut(t){qr(this,Nr,!1),this.emit(t,!0)}onMouseMove(t){this.emit(t,!1)}}Dr=new WeakMap,Br=new WeakMap,Hr=new WeakMap,Nr=new WeakMap,$r=new WeakMap,Or=new WeakMap,Rr=new WeakMap,_r=new WeakMap;var zr,Vr,jr,Xr,Yr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Kr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Zr{constructor(){zr.set(this,void 0),Vr.set(this,void 0),jr.set(this,void 0),Xr.set(this,void 0),Yr(this,jr,-1),Yr(this,Vr,-1),Yr(this,zr,void 0),Yr(this,Xr,0)}setElementBox(t){Yr(this,zr,t)}setTarget(t){Yr(this,Vr,t.width),Yr(this,jr,t.height)}setMargin(t){Yr(this,Xr,t)}getVerticalPosition(t){switch(t){case"top":return this.getTopPosition();case"bottom":return this.getBottomPosition();case"middle":return this.getMiddlePosition();default:return-1}}getHorizontalPosition(t){switch(t){case"left":return this.getLeftPosition();case"right":return this.getRightPosition();case"center":return this.getCenterPosition();default:return-1}}getAutoVerticalPosition(t){let e=window.innerHeight,i=this.getVerticalPosition(t);return("top"===t||"middle"===t)&&i<0?[this.getVerticalPosition("bottom"),"bottom"]:("bottom"===t||"middle"===t)&&i+Kr(this,jr)>e?[this.getVerticalPosition("top"),"top"]:[i,t]}getAutoHorizontalPosition(t){let e=window.innerWidth,i=this.getHorizontalPosition(t);return("right"===t||"center"===t)&&i<0?[this.getHorizontalPosition("left"),"left"]:("left"===t||"center"===t)&&i+Kr(this,Vr)>e?[this.getHorizontalPosition("right"),"right"]:[i,t]}getTopPosition(){return this.throwIfNotValid("getTopPosition"),Kr(this,zr).top-Kr(this,Xr)-Kr(this,jr)}getBottomPosition(){return this.throwIfNotValid("getBottomPosition"),Kr(this,zr).top+Kr(this,zr).height+Kr(this,Xr)}getMiddlePosition(){return this.throwIfNotValid("getMiddlePosition"),Kr(this,zr).top+Kr(this,zr).height/2-Kr(this,jr)/2}getLeftPosition(){return this.throwIfNotValid("getLeftPosition"),Kr(this,zr).left}getRightPosition(){return this.throwIfNotValid("getRightPosition"),Kr(this,zr).left+Kr(this,zr).width-Kr(this,Vr)}getCenterPosition(){return this.throwIfNotValid("getCenterPosition"),Kr(this,zr).left+Kr(this,zr).width/2-Kr(this,Vr)/2}validate(){return J(Kr(this,zr))&&Kr(this,jr)>0&&Kr(this,Vr)>0}throwIfNotValid(t){if(!this.validate())throw new u(`[${t}] Position cannot be calculated: missing data [width: ${Kr(this,Vr)}][height: ${Kr(this,jr)}]`)}}zr=new WeakMap,Vr=new WeakMap,jr=new WeakMap,Xr=new WeakMap;var Gr,Jr,Qr,to,eo=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},io=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class so{constructor(t){Gr.set(this,void 0),Jr.set(this,void 0),Qr.set(this,void 0),to.set(this,void 0),eo(this,Jr,"top-center"),eo(this,Gr,""),eo(this,Qr,null!=t?t:new Zr),eo(this,to,Et.get("CuiBasePositionCalculator"))}setMargin(t){io(this,Qr).setMargin(t)}setPreferred(t){eo(this,Jr,t)}setStatic(t){eo(this,Gr,t)}calculate(t,e){if(io(this,Qr).setElementBox(t),io(this,Qr).setTarget(e),J(io(this,Gr))){io(this,to).debug("Evaluating static position");const[t,e]=this.parse(io(this,Gr));return[io(this,Qr).getHorizontalPosition(e),io(this,Qr).getVerticalPosition(t),io(this,Gr)]}let[i,s]=["",""];J(io(this,Jr))&&(io(this,to).debug("Evaluating auto position"),[i,s]=this.parse(io(this,Jr))),i=null!=i?i:"top",s=null!=s?s:"center",io(this,to).debug("Calculating position: "+i+"-"+s);const[n,r]=io(this,Qr).getAutoVerticalPosition(i),[o,h]=io(this,Qr).getAutoHorizontalPosition(s);return io(this,to).debug("Calculated position: "+r+"-"+h),[o,n,r+"-"+h]}parse(t){return t.split("-")}}Gr=new WeakMap,Jr=new WeakMap,Qr=new WeakMap,to=new WeakMap;var no,ro,oo,ho,ao=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},lo=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class co{constructor(t,e,i){no.set(this,void 0),ro.set(this,void 0),oo.set(this,void 0),ho.set(this,void 0),ao(this,ro,e),ao(this,oo,t),ao(this,ho,i)}start(){this.canRun()&&(this.stop(),ao(this,no,setTimeout(()=>{lo(this,ho).call(this),ao(this,no,null),lo(this,ro)&&this.start()},lo(this,oo))))}stop(){lo(this,no)&&(clearTimeout(lo(this,no)),ao(this,no,null))}getId(){return lo(this,no)}canRun(){return J(lo(this,ho))&&lo(this,oo)>0}setCallback(t){ao(this,ho,t)}setTimeout(t){ao(this,oo,t)}}no=new WeakMap,ro=new WeakMap,oo=new WeakMap,ho=new WeakMap;var uo,po,go,vo,mo,fo,wo,ko,yo,bo,Mo,Co,Ao,Eo,Wo,To=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},So=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},xo=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Lo{constructor(t){uo.set(this,void 0),So(this,uo,gt("{prefix}-drop-animation-in",t)),this.mode="click",this.trigger="> a, button",this.autoClose=!1,this.outClose=!1,this.prevent=!1,this.pos="",this.action=xo(this,uo),this.timeout=3e3,this.margin=8}parse(t){this.mode=dt(t.mode,"click").toLowerCase(),this.trigger=":scope "+dt(t.trigger,"> a, button"),this.prevent=ut(t.prevent),this.autoClose=ut(t.autoClose),this.outClose=!t.outClose||ut(t.outClose),this.pos=dt(t.pos,""),this.action=dt(t.action,xo(this,uo)),this.timeout=ht(t.timeout,3e3),this.margin=ht(t.margin,8)}}uo=new WeakMap;class Po{constructor(t){po.set(this,void 0),So(this,po,null!=t?t:"cui"),this.attribute=xo(this,po)+"-drop"}getStyle(){return null}get(t,e){return new Io(t,e,this.attribute,xo(this,po))}}po=new WeakMap;class Io extends jn{constructor(t,e,i,s){super("CuidropHandler",t,i,new Lo(s),e),go.set(this,void 0),vo.set(this,void 0),mo.set(this,void 0),fo.set(this,void 0),wo.set(this,void 0),ko.set(this,void 0),yo.set(this,void 0),bo.set(this,void 0),Mo.set(this,void 0),Co.set(this,void 0),Ao.set(this,void 0),Eo.set(this,void 0),Wo.set(this,void 0),So(this,mo,i),So(this,go,s),So(this,vo,gt("{prefix}-drop-open",s)),So(this,wo,new Ur(this.element)),xo(this,wo).setCallback(this.onElementHover.bind(this)),So(this,yo,null),So(this,bo,null),So(this,Mo,null),this.onTriggerClick=this.onTriggerClick.bind(this),So(this,Co,new so),xo(this,Co).setMargin(8),xo(this,Co).setPreferred("bottom-left"),So(this,Ao,""),So(this,fo,void 0),So(this,ko,this.element),So(this,Wo,[]),So(this,Eo,new co(this.args.timeout,!1,this.close.bind(this)))}onInit(){So(this,ko,this.acquireTrigger()),So(this,fo,new Ur(xo(this,ko))),this.setTriggerEvent(),So(this,bo,this.onEvent(x,this.open.bind(this))),So(this,Mo,this.onEvent(P,this.close.bind(this))),xo(this,Co).setStatic(this.args.pos),xo(this,Co).setMargin(this.args.margin),So(this,Eo,new co(this.args.timeout,!1,this.close.bind(this))),So(this,Wo,Wi.get(this.args.action)),this.mutate(()=>{Pn.setAria(this.element,"aria-dropdown","")}),this._log.debug("Initialized","handle")}onUpdate(){xo(this,fo)&&xo(this,fo).isAttached()?xo(this,fo).detach():this.prevArgs&&"click"===this.prevArgs.mode&&xo(this,ko).removeEventListener("click",this.onTriggerClick),So(this,ko,this.acquireTrigger()),So(this,fo,new Ur(xo(this,ko))),this.setTriggerEvent(),xo(this,Co).setStatic(this.args.pos),xo(this,Co).setMargin(this.args.margin),So(this,Wo,Wi.get(this.args.action)),xo(this,Eo).setTimeout(this.args.timeout)}onDestroy(){this.detachEvent(x,xo(this,bo)),this.detachEvent(P,xo(this,Mo))}open(){return To(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("open")&&(this.isActive()?this.close():(this.isAnyActive()&&(yield this.findAndCloseOpenedDrop()),this.isLocked=!0,this._log.debug("Drop "+this.cuid,"open"),this.onOpen(),this.isLocked=!1,!0))}))}close(){return To(this,void 0,void 0,(function*(){return!(this.checkLockAndWarn("close")||!this.isActive())&&(this.isLocked=!0,this.logInfo("Drop "+this.cuid,"close"),this.onClose(),this.detachEvent(q,xo(this,yo)),this.emitEvent(I,{timestamp:Date.now()}),xo(this,wo).detach(),this.isLocked=!1,!0)}))}onClose(){this.mutate(()=>{this.helper.removeClass(this.activeClassName,this.element),this.helper.removeClass(xo(this,vo),document.body),this.toggleActions(),this.helper.removeClass(xo(this,Ao),this.element),Pn.setAria(this.element,"aria-expanded","false")})}onOpen(){this.helper.setClass(this.activeClassName,this.element),this.mutate(()=>{const t=xo(this,ko).getBoundingClientRect();try{const[e,i,s]=xo(this,Co).calculate(t,this.element.getBoundingClientRect());this.element.style.top=i-t.top+"px",this.element.style.left=e-t.left+"px",So(this,Ao,gt("{prefix}-drop-position-"+s,xo(this,go))),this.toggleActions(),this.helper.setClass(xo(this,Ao),this.element),this.helper.setClass(xo(this,vo),document.body),this.emitEvent(L,{timestamp:Date.now()}),xo(this,wo).attach(),this.runAutoCloseTask(),this.args.outClose&&So(this,yo,this.onEvent(q,this.onWindowClick.bind(this))),Pn.setAria(this.element,"aria-expanded","true")}catch(t){this._log.exception(t)}})}onWindowClick(t){this.element.contains(t.target)||this.close()}isAnyActive(){return this.helper.hasClass(xo(this,vo),document.body)}findAndCloseOpenedDrop(){return To(this,void 0,void 0,(function*(){const t=document.querySelector(`[${xo(this,mo)}].${this.activeClassName}`);if(!J(t))return this._log.warning("Opened drop was not found"),!1;const e=t.$handlers[xo(this,mo)];return J(e)?e.close():(this._log.warning("Drop handler was not found in the element"),!1)}))}onTriggerClick(t){this.isActive()?this.close():this.open(),this.args.prevent&&t.preventDefault()}onHoverEvent(t){t.isHovering&&!this.isActive()&&this.open(),this.args.prevent&&t.event.preventDefault()}onElementHover(t){t.isHovering?xo(this,Eo).stop():!t.isHovering&&this.args.autoClose&&this.runAutoCloseTask()}setTriggerEvent(){"hover"===this.args.mode&&xo(this,fo)?(xo(this,fo).setCallback(this.onHoverEvent.bind(this)),xo(this,fo).attach()):xo(this,ko).addEventListener("click",this.onTriggerClick)}runAutoCloseTask(){this.args.autoClose&&xo(this,Eo).start()}toggleActions(){xo(this,Wo).forEach(t=>{t.toggle(this.element)})}acquireTrigger(){let t=null;return t=this.element.parentElement?this.element.parentElement.querySelector(this.args.trigger):document.querySelector(this.args.trigger),null!=t?t:this.element}}go=new WeakMap,vo=new WeakMap,mo=new WeakMap,fo=new WeakMap,wo=new WeakMap,ko=new WeakMap,yo=new WeakMap,bo=new WeakMap,Mo=new WeakMap,Co=new WeakMap,Ao=new WeakMap,Eo=new WeakMap,Wo=new WeakMap;var Do,Bo=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ho=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class No{constructor(){this.icon="",this.scale=1}parse(t){pt(t)?this.icon=dt(t,""):(this.icon=dt(t.icon,""),this.scale=ht(t.scale,1))}}class $o{constructor(t){this.attribute=(null!=t?t:"cui")+"-icon"}getStyle(){return null}get(t,e){return new Oo(t,e,this.attribute)}}class Oo extends jn{constructor(t,e,i){super("CuiIconHandler",t,i,new No,e),Do.set(this,void 0),Bo(this,Do,null)}onInit(){null===Ho(this,Do)?(this.addIcon(this.args.icon),Bo(this,Do,this.args.icon)):this._log.debug("Icon already initialized")}onUpdate(){this.args.icon!==Ho(this,Do)&&(this.addIcon(this.args.icon),Bo(this,Do,this.args.icon))}onDestroy(){const t=this.element.querySelector("svg");J(t)&&t.remove(),Bo(this,Do,null)}addIcon(t){const e=t?m[t]:null;if(!e)return;const i=new tr(e).setScale(this.args.scale).build(),s=this.element.querySelector("svg");J(s)&&s.remove(),this.element.childNodes.length>0?this.mutate(this.insertBefore,i):this.mutate(this.appendChild,i)}insertBefore(t){this.element.insertBefore(t,this.element.firstChild)}appendChild(t){this.element.appendChild(t)}}Do=new WeakMap;var Ro,_o,qo,Fo,Uo=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},zo=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Vo{constructor(t,e){Ro.set(this,void 0),_o.set(this,void 0),qo.set(this,void 0),Fo.set(this,void 0),Uo(this,_o,t),Uo(this,qo,null!=e?e:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]),Uo(this,Fo,void 0),Uo(this,Ro,void 0)}setCallback(t){Uo(this,Fo,t)}connect(){zo(this,Fo)&&Uo(this,Ro,new IntersectionObserver(zo(this,Fo),{root:zo(this,_o),rootMargin:"0px",threshold:zo(this,qo)}))}observe(t){zo(this,Ro)&&zo(this,Ro).observe(t)}unobserve(t){zo(this,Ro)&&zo(this,Ro).unobserve(t)}disconnect(){zo(this,Ro)&&zo(this,Ro).disconnect()}}Ro=new WeakMap,_o=new WeakMap,qo=new WeakMap,Fo=new WeakMap;var jo,Xo,Yo,Ko=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Zo=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Go{constructor(){this.target="div",this.action="",this.offset=0,this.isRoot=!1}parse(t){this.target=J(t.target)?":scope "+t.target:":scope > *",this.action=dt(t.action,""),this.offset=it(parseFloat(t.offset),0,1,0),this.isRoot=ut(t.isRoot)}}class Jo{constructor(t){this.attribute=(null!=t?t:"cui")+"-intersection"}getStyle(){return null}get(t,e){return new Qo(t,e,this.attribute)}}class Qo extends jn{constructor(t,e,i){super("CuiIntersectionHandler",t,i,new Go,e),jo.set(this,void 0),Xo.set(this,void 0),Yo.set(this,void 0),Ko(this,jo,new Vo(this.element)),Ko(this,Xo,[]),Ko(this,Yo,[])}onInit(){this.parseArguments(),Zo(this,jo).setCallback(this.onIntersection.bind(this)),Zo(this,jo).connect(),Zo(this,Xo).forEach(t=>{Zo(this,jo).observe(t)})}onUpdate(){this.parseArguments()}onDestroy(){Zo(this,jo).disconnect()}parseArguments(){if(!J(this.prevArgs)||this.prevArgs.target!==this.args.target){let t=this.args.isRoot?document.body:this.element;Ko(this,Xo,[...t.querySelectorAll(this.args.target)])}Ko(this,Yo,Wi.get(this.args.action))}onIntersection(t,e){J(Zo(this,Xo))&&t.forEach(t=>{t.isIntersecting&&t.intersectionRatio>=this.args.offset?this.addActions(t.target):this.removeActions(t.target),this.emitIntersection(t)})}emitIntersection(t){this.emitEvent(R,{entry:t,offset:this.args.offset,timestamp:Date.now()})}addActions(t){Zo(this,Yo).forEach(e=>e.add(t))}removeActions(t){Zo(this,Yo).forEach(e=>e.remove(t))}}jo=new WeakMap,Xo=new WeakMap,Yo=new WeakMap;var th,eh,ih,sh,nh,rh,oh,hh=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ah=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class lh{constructor(t,e){th.set(this,void 0),eh.set(this,void 0),hh(this,eh,null!=e?e:300),hh(this,th,t),this.escClose=!1,this.position="right",this.openAct=this.getDefaultOpenClass(),this.closeAct=this.getDefaultCloseClass(),this.timeout=ah(this,eh),this.outClose=!1,this.keyClose=""}parse(t){J(t)&&(this.escClose=ut(t.escClose),this.outClose=ut(t.outClose),this.position=dt(t.position,"right"),this.openAct=dt(t.openAct,this.getDefaultOpenClass()),this.closeAct=dt(t.closeAct,this.getDefaultCloseClass()),this.timeout=ht(t.timeout,ah(this,eh)),this.keyClose=t.keyClose)}getDefaultOpenClass(){return gt("right"===this.position?".{prefix}-offcanvas-default-right-in":".{prefix}-offcanvas-default-left-in",ah(this,th))}getDefaultCloseClass(){return gt("right"===this.position?".{prefix}-offcanvas-default-right-out":".{prefix}-offcanvas-default-left-out",ah(this,th))}}th=new WeakMap,eh=new WeakMap;class ch{constructor(t){ih.set(this,void 0),hh(this,ih,null!=t?t:"cui"),this.attribute=ah(this,ih)+"-off-canvas"}getStyle(){return null}get(t,e){return new uh(t,e,this.attribute,ah(this,ih))}}ih=new WeakMap;class uh extends Xn{constructor(t,e,i,s){super("CuiOffCanvasHandler",t,i,new lh(s,e.setup.animationTime),e),sh.set(this,void 0),nh.set(this,void 0),rh.set(this,void 0),oh.set(this,void 0),hh(this,sh,s),hh(this,nh,gt("{prefix}-off-canvas-open",s)),hh(this,oh,null),hh(this,rh,0)}onInit(){this.mutate(()=>{this.setPositionLeft(),Pn.setAria(this.element,"aria-modal","")})}onUpdate(){this.setPositionLeft()}onDestroy(){}onBeforeOpen(){return!this.isAnyActive()&&(hh(this,rh,window.pageYOffset),!0)}onAfterOpen(){this.args.outClose&&hh(this,oh,this.onEvent(q,this.onWindowClick.bind(this))),this.helper.setClass(ah(this,nh),document.body),document.body.style.top=`-${scrollY}px`}onAfterClose(){this.detachEvent(q,ah(this,oh)),this.helper.removeClass(ah(this,nh),document.body),document.body.style.top="",window.scrollTo(0,-1*ah(this,rh))}onBeforeClose(){return!0}onWindowClick(t){const e=this.element.querySelector(gt(".{prefix}-off-canvas-container",ah(this,sh)));e&&!e.contains(t.target)&&this.close()}isAnyActive(){return this.helper.hasClass(ah(this,nh),document.body)}setPositionLeft(){let t=Q(ah(this,sh),"left");"left"!==this.args.position||this.helper.hasClass(t,this.element)?"right"==this.args.position&&this.helper.hasClass(t,this.element)&&this.helper.removeClass(t,this.element):this.helper.setClass(t,this.element)}}sh=new WeakMap,nh=new WeakMap,rh=new WeakMap,oh=new WeakMap;var dh,ph,gh,vh=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},mh=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class fh{static get(t){return t instanceof Window?new yh:t instanceof HTMLElement?new kh(t):new wh(t)}}class wh{constructor(t){dh.set(this,void 0),ph.set(this,void 0),vh(this,ph,t),vh(this,dh,t.getBoundingClientRect())}getHeight(){return mh(this,dh).height}getWidth(){return mh(this,dh).width}getTop(){return mh(this,dh).top}getLeft(){return mh(this,dh).left}getScrollHeight(){return mh(this,ph).scrollHeight}getScrollWidth(){return mh(this,ph).scrollWidth}getScrollTop(){return mh(this,ph).scrollTop}getScrollLeft(){return mh(this,ph).scrollLeft}queryAll(t){return[...mh(this,ph).querySelectorAll(t)]}}dh=new WeakMap,ph=new WeakMap;class kh{constructor(t){gh.set(this,void 0),vh(this,gh,t)}getHeight(){return mh(this,gh).offsetHeight}getWidth(){return mh(this,gh).offsetWidth}getTop(){return mh(this,gh).offsetTop}getLeft(){return mh(this,gh).offsetLeft}getScrollHeight(){return mh(this,gh).scrollHeight}getScrollWidth(){return mh(this,gh).scrollWidth}getScrollTop(){return mh(this,gh).scrollTop}getScrollLeft(){return mh(this,gh).scrollLeft}queryAll(t){return[...mh(this,gh).querySelectorAll(t)]}}gh=new WeakMap;class yh{getHeight(){return window.innerHeight}getWidth(){return window.innerWidth}getTop(){return 0}getLeft(){return 0}getScrollHeight(){return window.innerHeight}getScrollWidth(){return window.innerWidth}getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}queryAll(t){return[...document.querySelectorAll(t)]}}var bh,Mh,Ch,Ah,Eh,Wh,Th,Sh,xh,Lh,Ph=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ih=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Dh{constructor(t,e){bh.set(this,void 0),Mh.set(this,void 0),Ch.set(this,void 0),Ah.set(this,void 0),Eh.set(this,void 0),Wh.set(this,void 0),Th.set(this,void 0),Sh.set(this,void 0),xh.set(this,void 0),Lh.set(this,void 0),Ph(this,bh,t),Ph(this,Sh,fh.get(t)),Ph(this,Mh,!1),Ph(this,Ch,it(e,0,100,0)),Ph(this,Ah,Ph(this,Eh,0)),Ph(this,Th,!1),Ph(this,Wh,void 0),Ph(this,xh,new co(50,!1,this.onScrollFinish.bind(this))),Ph(this,Lh,this.listener.bind(this))}setCallback(t){Ph(this,Wh,t)}attach(){Ih(this,bh).addEventListener("scroll",Ih(this,Lh)),Ph(this,Th,!0),this.listener(void 0,!0,"init")}detach(){Ih(this,bh).removeEventListener("scroll",Ih(this,Lh)),Ih(this,xh).stop(),Ph(this,Th,!1)}setTarget(t){t!==Ih(this,bh)&&(this.detach(),Ph(this,bh,t),this.attach())}setThreshold(t){Ph(this,Ch,it(t,0,100,0))}isInProgress(){return Ih(this,Mh)}isAttached(){return Ih(this,Th)}listener(t,e,i){if(!J(Ih(this,Wh)))return;let s=Ih(this,Sh).getScrollLeft(),n=Ih(this,Sh).getScrollTop();Ph(this,Ah,Ih(this,Ah)+s),Ph(this,Eh,Ih(this,Eh)+n),Ih(this,Mh)||!this.passedThreshold()&&J(t)||(Ph(this,Mh,!0),Ih(this,Wh).call(this,{base:t,top:n,left:s,initial:null!=e&&e,scrolling:J(t),source:null!=i?i:"event"}),J(t)&&Ih(this,xh).start(),Ph(this,Mh,!1),Ph(this,Ah,0),Ph(this,Eh,0))}passedThreshold(){return Ih(this,Ch)<=0||Ih(this,Ah)>=Ih(this,Ch)||Ih(this,Eh)>=Ih(this,Ch)}onScrollFinish(){this.listener(void 0,!1,"task")}}bh=new WeakMap,Mh=new WeakMap,Ch=new WeakMap,Ah=new WeakMap,Eh=new WeakMap,Wh=new WeakMap,Th=new WeakMap,Sh=new WeakMap,xh=new WeakMap,Lh=new WeakMap;var Bh,Hh,Nh,$h,Oh,Rh,_h,qh=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Fh=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Uh{matches(t,e,i,s){return i>0&&e>=i||s>0&&t>=s}}class zh{constructor(){Bh.set(this,void 0),Hh.set(this,void 0),Nh.set(this,void 0),$h.set(this,void 0),Oh.set(this,void 0),Rh.set(this,void 0),_h.set(this,void 0),qh(this,Bh,0),qh(this,Hh,0),qh(this,$h,0),qh(this,Nh,0),qh(this,_h,100),qh(this,Oh,!1),qh(this,Rh,!1)}matches(t,e,i,s){return this.fitsOffsetY(t,s)||this.fitsOffsetX(e,i)}fitsOffsetX(t,e){if(e<=0)return!1;let i=t-Fh(this,Bh);return t>=e&&i>Fh(this,_h)?qh(this,Oh,!0):Fh(this,Oh)&&i<-Fh(this,_h)&&qh(this,Oh,!1),(i<0&&Fh(this,$h)<i||i>=0&&Fh(this,$h)>i)&&qh(this,Bh,t),qh(this,$h,i),Fh(this,Oh)}fitsOffsetY(t,e){if(e<=0)return!1;let i=t-Fh(this,Hh);return t>=e&&i>Fh(this,_h)?qh(this,Rh,!0):Fh(this,Rh)&&i<-Fh(this,_h)&&qh(this,Rh,!1),(i<0&&Fh(this,Nh)<i||i>=0&&Fh(this,Nh)>i)&&qh(this,Hh,t),qh(this,Nh,i),Fh(this,Rh)}}Bh=new WeakMap,Hh=new WeakMap,Nh=new WeakMap,$h=new WeakMap,Oh=new WeakMap,Rh=new WeakMap,_h=new WeakMap;var Vh,jh,Xh,Yh,Kh,Zh,Gh,Jh,Qh,ta,ea=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ia=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class sa{constructor(){this.offsetX=0,this.offsetY=0,this.target="",this.root=!1,this.action="",this.mode="static"}parse(t){this.target=t.target,this.action=t.action,this.offsetX=ht(t.offsetX,-1),this.offsetY=ht(t.offsetY,-1),this.root=ut(t.root),this.mode=dt(t.mode,"static")}}class na{constructor(t){this.attribute=(null!=t?t:"cui")+"-offset"}getStyle(){return null}get(t,e){return new ra(t,e,this.attribute)}}class ra extends jn{constructor(t,e,i){super("CuiOffsetHandler",t,i,new sa,e),Vh.set(this,void 0),jh.set(this,void 0),Xh.set(this,void 0),Yh.set(this,void 0),Kh.set(this,void 0),Zh.set(this,void 0),Gh.set(this,void 0),Jh.set(this,void 0),Qh.set(this,void 0),ta.set(this,void 0),this.element=t,ea(this,jh,this.element),ea(this,Xh,e),ea(this,Yh,!1),ea(this,Kh,[]),ea(this,Zh,0),ea(this,Gh,0),ea(this,Jh,20),ea(this,Qh,this.element),ea(this,ta,null),ea(this,Vh,void 0)}onInit(){this.parseAttribute(),ea(this,Vh,new Dh(this.args.root?window:this.element,this.utils.setup.scrollThreshold)),ia(this,Vh).setCallback(this.onScroll.bind(this)),ia(this,Vh).attach()}onUpdate(){this.parseAttribute()}onDestroy(){ia(this,Vh)&&ia(this,Vh).detach()}onScroll(t){this.checkAndPerformActions(t)}parseAttribute(){ea(this,Qh,this.getRoot()),ea(this,jh,this.getTarget()),ea(this,Kh,Wi.get(this.args.action)),ea(this,ta,class{static get(t){return"dynamic"===t?new zh:new Uh}}.get(this.args.mode))}checkAndPerformActions(t){J(ia(this,ta))||this.logError("Cannot perform - mode handler not initialized","checkAndPerformActions");let e=ia(this,ta).matches(t.top,t.left,this.args.offsetX,this.args.offsetY);if(e!==ia(this,Yh))return this.act(e),ea(this,Yh,e),void this.callEvent(ia(this,Yh),t.left,t.top,t.scrolling,t.source,...this.calcaRatio(t.left,t.top));this.exceededThreshold(t.left,t.top)&&(this.callEvent(ia(this,Yh),t.left,t.top,t.scrolling,t.source,...this.calcaRatio(t.left,t.top)),ea(this,Zh,t.left),ea(this,Gh,t.top))}act(t){nt(ia(this,Kh),ia(this,jh))&&(this.isLocked=!0,ia(this,Kh).forEach(e=>{t?e.add(ia(this,jh),ia(this,Xh)):e.remove(ia(this,jh),ia(this,Xh))}),this.isLocked=!1)}callEvent(t,e,i,s,n,r,o){this.emitEvent(F,{matches:ia(this,Yh),offsetX:e,offsetY:i,ratioX:r,ratioY:o,scrolling:s,source:n,timestamp:Date.now()})}getRoot(){return this.args.root?document.body:this.element}exceededThreshold(t,e){return Math.abs(t-ia(this,Zh))>ia(this,Jh)||Math.abs(e-ia(this,Gh))>ia(this,Jh)}calcaRatio(t,e){let i=parseFloat(((ia(this,Qh).clientHeight+e)/ia(this,Qh).scrollHeight).toFixed(2));return[et(parseFloat(((ia(this,Qh).clientWidth+t)/ia(this,Qh).scrollWidth).toFixed(2)),0,1),et(i,0,1)]}getTarget(){let t=this.args.target?ia(this,Qh).querySelector(this.args.target):null;return null!=t?t:this.element}}Vh=new WeakMap,jh=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Kh=new WeakMap,Zh=new WeakMap,Gh=new WeakMap,Jh=new WeakMap,Qh=new WeakMap,ta=new WeakMap;var oa,ha,aa,la=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},ca=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ua=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class da{constructor(t){oa.set(this,void 0),ca(this,oa,null!=t?t:300),this.target="",this.action="",this.timeout=0,this.prevent=!1,this.state=""}parse(t){if(J(t)&&pt(t))return this.target=t,this.action="",this.timeout=ua(this,oa),this.prevent=!1,void(this.state="");this.target=dt(t.target,""),this.action=t.action,this.timeout=ht(t.timeout,ua(this,oa)),this.prevent=ut(t.prevent),this.state=t.state}}oa=new WeakMap;class pa{constructor(t){ha.set(this,void 0),ca(this,ha,null!=t?t:"cui"),this.attribute=ua(this,ha)+"-open"}getStyle(){return null}get(t,e){return new ga(t,e,this.attribute,ua(this,ha))}}ha=new WeakMap;class ga extends jn{constructor(t,e,i,s){super("CuiOpenHandler",t,i,new da(e.setup.animationTime),e),aa.set(this,void 0),ca(this,aa,null),this.onClick=this.onClick.bind(this)}onInit(){this.element.addEventListener("click",this.onClick),ca(this,aa,this.onEvent(x,this.onOpen.bind(this)))}onUpdate(){}onDestroy(){this.element.removeEventListener("click",this.onClick),this.detachEvent(x,ua(this,aa))}onClick(t){this.onOpen(t),this.args.prevent&&t.preventDefault()}onOpen(t){if(this.isLocked)return;const e=this.getTarget(this.args.target);J(e)?(this.isLocked=!0,this.run(e).then(i=>{this.activateTarget(t,e,i)}).catch(t=>{this._log.exception(t)}).finally(()=>{this.isLocked=!1})):this._log.warning(`Target ${this.args.target} not found`,"onClick")}run(t){return la(this,void 0,void 0,(function*(){let e=t.$cuid;if(J(e))return this._log.debug("Open cUI component"),yield this.utils.bus.emit(x,e,this.args.state),!1;if(this._log.debug("Open html component"),nt(this.args.timeout,this.args.action)){this._log.debug("Perfrom an action");let e=Wi.get(this.args.action);return yield this.actionsHelper.performActions(t,e,this.args.timeout,()=>{this.setActiveClass(t)}),!0}return this.setActiveClassAsync(t),!0}))}setActiveClass(t){J(t)&&!this.helper.hasClass(this.activeClassName,t)&&this.helper.setClass(this.activeClassName,t)}setActiveClassAsync(t){this.fetch(()=>{J(t)&&!this.helper.hasClass(this.activeClassName,t)&&this.helper.setClassesAs(t,this.activeClassName)})}activateTarget(t,e,i){J(e)&&!this.helper.hasClass(this.activeClassName,e)&&this.helper.setClassesAs(e,this.activeClassName),i&&this.emitOpen(t)}emitOpen(t){this.emitEvent(L,{event:t,state:this.args.state,timestamp:Date.now()})}getTarget(t){if(J(t))return document.querySelector(t);let e=this.element.parentElement,i=J(e)?e.querySelectorAll("[cuid]"):void 0;return!i||i.length<2?void 0:function(t,e){let i=t.length;if(t&&0!==i)for(let s=0;s<i;s++)if(e(t[s],s))return t[s]}([...i],t=>t!==this.element)}}aa=new WeakMap;var va,ma,fa,wa,ka,ya,ba,Ma,Ca,Aa=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ea=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Wa{constructor(){this.mode="simple",this.default="",this.small=this.medium=this.large=this.xlarge=void 0,this.delay=0}parse(t){var e,i,s,n;this.default=dt(t.default,""),this.small=null!==(e=t.small)&&void 0!==e?e:t.s,this.medium=null!==(i=t.medium)&&void 0!==i?i:t.m,this.large=null!==(s=t.large)&&void 0!==s?s:t.l,this.xlarge=null!==(n=t.xlarge)&&void 0!==n?n:t.xl,this.mode="smart"===t.mode?"smart":"simple",this.delay=ht(t.delay,0)}}class Ta{constructor(t){va.set(this,void 0),Aa(this,va,null!=t?t:"cui"),this.attribute=Ea(this,va)+"-resize"}getStyle(){return null}get(t,e){return new Sa(t,e,this.attribute)}}va=new WeakMap;class Sa extends jn{constructor(t,e,i){super("CuiResizeHandler",t,i,new Wa,e),ma.set(this,void 0),fa.set(this,void 0),wa.set(this,void 0),ka.set(this,void 0),ya.set(this,void 0),ba.set(this,void 0),Ma.set(this,void 0),Ca.set(this,void 0),Aa(this,ma,null),Aa(this,fa,new Vo(document.documentElement,[0,.1])),Ea(this,fa).setCallback(this.onIntersection.bind(this)),Aa(this,ya,""),Aa(this,ka,""),Aa(this,wa,"none"),Aa(this,Ma,!1),Aa(this,Ca,void 0),Aa(this,ba,void 0)}onInit(){Aa(this,ma,this.utils.bus.on(S,this.resize.bind(this))),Ea(this,fa).connect(),Ea(this,fa).observe(this.element),Aa(this,wa,rt(window.innerWidth)),Aa(this,Ma,this.isInViewport(this.element)),this.setNewValue(),this.updateElement()}onUpdate(){this.setNewValue(),this.updateElement()}onDestroy(){null!==Ea(this,ma)&&(this.utils.bus.detach(S,Ea(this,ma)),Aa(this,ma,null)),Ea(this,fa).unobserve(this.element),Ea(this,fa).disconnect()}resize(t){Aa(this,wa,t.current),this.setNewValue(),this.updateElement()}onIntersection(t){t.length>0&&Aa(this,Ma,t[0].isIntersecting),this.updateElement()}setNewValue(){let t=this.isSmartMode()?this.getSmartValue(Ea(this,wa)):this.getValue(Ea(this,wa),!0);t&&t!==Ea(this,ka)&&Aa(this,ka,t)}getValue(t,e){let i=void 0;switch(t){case"xlarge":i=this.args.xlarge;break;case"large":i=this.args.large;break;case"medium":i=this.args.medium;break;case"small":i=this.args.small;break;default:i=this.args.default}return e&&!i?this.args.default:i}getSmartValue(t){var e,i,s,n;let r=this.args.default;return"none"===t?r:(r=null!==(e=this.args.small)&&void 0!==e?e:r,"small"===t?r:(r=null!==(i=this.args.medium)&&void 0!==i?i:r,"medium"===t?r:(r=null!==(s=this.args.large)&&void 0!==s?s:r,"large"===t?r:null!==(n=this.args.xlarge)&&void 0!==n?n:r)))}updateElement(){Ea(this,Ma)||!this.isSmartMode()?J(Ea(this,ka))?Ea(this,ya)!==Ea(this,ka)&&this.run(()=>{let t=Ei.get(Ea(this,ka));this.mutate(()=>{Ea(this,ba)&&Ea(this,ba).remove(this.element),t.add(this.element),Aa(this,ya,Ea(this,ka)),Aa(this,ba,t)})}):this.logWarning("Not eligible to set value: "+Ea(this,ka)):this.logInfo("Not intersecting")}isSmartMode(){return"smart"===this.args.mode}isInViewport(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}run(t){Ea(this,Ca)&&(clearTimeout(Ea(this,Ca)),Aa(this,Ca,void 0)),Aa(this,Ca,setTimeout(()=>{t(),Aa(this,Ca,void 0)},this.args.delay))}}ma=new WeakMap,fa=new WeakMap,wa=new WeakMap,ka=new WeakMap,ya=new WeakMap,ba=new WeakMap,Ma=new WeakMap,Ca=new WeakMap;var xa,La,Pa,Ia=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Da=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ba{constructor(t){this.attribute=J(t)?t+"scroll":"cui-scroll"}getStyle(){return null}get(t,e){return new Na(t,e,this.attribute)}}class Ha{constructor(){this.target="",this.parent="",this.behavior="auto"}parse(t){this.target=dt(t.target,""),this.parent=dt(t.parent,""),this.behavior=J(t.behavior)&&"smooth"===t.behavior.toLowerCase()?"smooth":"auto"}}class Na extends jn{constructor(t,e,i){super("CuiScrollHandler",t,i,new Ha,e),xa.set(this,void 0),La.set(this,void 0),Pa.set(this,void 0),this.element=t,Ia(this,xa,null),Ia(this,La,null),Ia(this,Pa,this.onClick.bind(this))}onInit(){this.element.addEventListener("click",Da(this,Pa)),this.setTargets()}onUpdate(){this.setTargets()}onDestroy(){this.element.removeEventListener("click",Da(this,Pa))}onClick(t){if(!nt(Da(this,La),Da(this,xa)))return;let e=function(t){if(!J(t))return-1;let e=t.offsetTop-parseInt(at(t,"margin-top"))-parseInt(at(t,"padding-top"))-parseInt(at(t,"border-top-width"));return e<0?t.offsetTop:e}(Da(this,La))-Da(this,xa).offsetTop,i=e-Da(this,xa).scrollTop;Da(this,xa).scrollBy({top:i,behavior:this.args.behavior}),this.emitEvent($,{to:e,by:i,target:Da(this,La),parent:Da(this,xa),timestamp:Date.now()}),t.preventDefault()}setTargets(){Ia(this,La,document.querySelector(this.args.target)),J(Da(this,La))&&Ia(this,xa,J(this.args.parent)?document.querySelector(this.args.parent):Da(this,La).parentElement)}}xa=new WeakMap,La=new WeakMap,Pa=new WeakMap;var $a,Oa,Ra,_a,qa=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Fa=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ua{constructor(t,e){var i;$a.set(this,void 0),Oa.set(this,void 0),Ra.set(this,void 0),_a.set(this,void 0),qa(this,_a,fh.get(t)),qa(this,$a,new Dh(t,null!==(i=null==e?void 0:e.threshold)&&void 0!==i?i:0)),Fa(this,$a).setCallback(this.onScroll.bind(this)),qa(this,Ra,[]),qa(this,Oa,void 0)}setChildren(t){qa(this,Ra,t)}setThreshold(t){Fa(this,$a).setThreshold(t)}setCallback(t){qa(this,Oa,t)}setParent(t){qa(this,_a,fh.get(t)),Fa(this,$a).setTarget(t)}isInProgress(){return Fa(this,$a).isInProgress()}attach(){this.isAttached()||Fa(this,$a).attach()}detach(){this.isAttached()&&Fa(this,$a).detach()}isAttached(){return Fa(this,$a)&&Fa(this,$a).isAttached()}onScroll(t){nt(Fa(this,Ra),Fa(this,Oa))&&Fa(this,Oa)&&Fa(this,Oa).call(this,this.prepareCallbackResult(t))}calcChildVerticalRatio(t,e,i){let s=t.offsetTop+t.offsetHeight;return et(((i<s?i:s)-(e>t.offsetTop?e:t.offsetTop))/t.offsetHeight,0,1)}calcChildHorizontalRatio(t,e,i){let s=t.offsetLeft+t.offsetWidth;return et(((i<s?i:s)-(e>t.offsetLeft?e:t.offsetLeft))/t.offsetWidth,0,1)}prepareCallbackResult(t){var e,i;let s=t.top+Fa(this,_a).getHeight(),n=t.left+Fa(this,_a).getWidth();return{ev:t.base,top:t.top,left:t.left,scrolling:null!==(e=t.scrolling)&&void 0!==e&&e,initial:null!==(i=t.initial)&&void 0!==i&&i,source:t.source,items:Fa(this,Ra).map((e,i)=>({verticalRatio:this.calcChildVerticalRatio(e,t.top,s),horizontalRatio:this.calcChildHorizontalRatio(e,t.left,n),element:e}))}}}$a=new WeakMap,Oa=new WeakMap,Ra=new WeakMap,_a=new WeakMap;class za{static get(t){return"multi"===t?new Xa:new ja}}class Va{constructor(t){this.previous=t}getMatching(t,e){return e.reduce((e,i,s)=>(i.verticalRatio>t&&e.push(s),e),[])}addActions(t,...e){this.forEachAction(t,e,(t,e)=>{t.add(e)})}removeActions(t,...e){this.forEachAction(t,e,(t,e)=>{t.remove(e)})}forEachAction(t,e,i){nt(t,e,i)&&t.forEach(t=>{e.forEach(e=>{J(e)&&i(t,e)})})}}class ja extends Va{constructor(){super(-1)}update(t,e,i,s,n){let r=this.getMatching(e,t),o=r.length,h=o>0?r[o-1]:-1,a={changed:!1};if(!this.matches(h)){if(this.previous>-1&&this.removeActions(i,t[this.previous].element),h>-1){let e=t[h].element;a.intersecting=[e],this.addActions(i,e)}return nt(s,n)&&(this.previous>-1&&this.removeActions(n,s[this.previous]),h>-1&&this.addActions(n,s[h])),this.previous=h,a.changed=!0,a.intersecting=[],a}return a}matches(t){return t===this.previous}}class Xa extends Va{constructor(){super([])}update(t,e,i,s,n){let r=this.getMatching(e,t),o={changed:!1};if(!this.matches(r)){let e=r.map(e=>t[e].element);return this.removeActions(i,...this.previous.map(e=>t[e].element)),this.addActions(i,...e),o.intersecting=e,nt(s,n)&&(this.removeActions(n,...this.previous.map(t=>s[t])),this.addActions(n,...r.map(t=>s[t]))),this.previous=r,o.changed=!0,o}return o}matches(t){let e=t.length;if(e!==this.previous.length)return!1;let i=0;for(i=0;i<e;i++)if(!this.previous.includes(t[i]))return!1;return!0}}var Ya,Ka,Za,Ga,Ja,Qa,tl,el=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},il=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class sl{constructor(){this.ratio=0,this.mode="single",this.threshold=-1,this.selector="",this.action="",this.isRoot=!1,this.link="",this.linkAction=""}parse(t){var e;this.selector=":scope "+(null!==(e=t.selector)&&void 0!==e?e:"> *"),this.action=dt(t.action,""),this.link=dt(t.link,""),this.linkAction=dt(t.linkAction,""),this.ratio=it(parseFloat(t.ratio),0,1,0),this.isRoot=ut(t.isRoot),this.mode="multi"===(null==t?void 0:t.mode)?"multi":"single",this.threshold=ht(t.threshold,-1)}}class nl{constructor(t){this.attribute=(null!=t?t:"cui")+"-scrollspy"}getStyle(){return null}get(t,e){return new rl(t,e,this.attribute)}}class rl extends jn{constructor(t,e,i){super("CuiScrollspyHandler",t,i,new sl,e),Ya.set(this,void 0),Ka.set(this,void 0),Za.set(this,void 0),Ga.set(this,void 0),Ja.set(this,void 0),Qa.set(this,void 0),tl.set(this,void 0),this.element=t,el(this,Ya,new Ua(this.element,{threshold:this.utils.setup.scrollThreshold})),el(this,Ka,[]),el(this,Za,[]),el(this,Ga,[]),el(this,Ja,void 0),el(this,Qa,void 0),el(this,tl,void 0)}onInit(){this.parseAttribute(),il(this,Ya).setCallback(this.onIntersection.bind(this)),il(this,Ya).attach()}onUpdate(){this.updateAttributes()}onDestroy(){il(this,Ya).detach()}onIntersection(t){if(!il(this,tl))return void this.logError("Cannot perform - mode handler not initialized","OnIntersection");let e=Date.now();this.mutate(()=>{let i=il(this,tl).update(t.items,this.args.ratio,il(this,Za),il(this,Ka),il(this,Ga));i.changed&&this.emitEvent(O,{intersecting:i.intersecting,timestamp:e})}),this.emitEvent($,{top:t.top,left:t.left,scrolling:t.scrolling,initial:t.initial,source:t.source,timestamp:e})}parseAttribute(){el(this,Ja,this.args.isRoot?window:this.element),el(this,Qa,fh.get(il(this,Ja)));let t=this.args.selector?il(this,Qa).queryAll(this.args.selector):[];il(this,Ya).setChildren(t),il(this,Ya).setThreshold(this.args.threshold),el(this,Ka,this.args.link?[...document.querySelectorAll(this.args.link)]:[]),el(this,Za,Wi.get(this.args.action)),el(this,Ga,Wi.get(this.args.linkAction)),el(this,tl,za.get(this.args.mode))}updateAttributes(){if(this.prevArgs&&this.args.isRoot!==this.prevArgs.isRoot&&(el(this,Ja,this.args.isRoot?window:this.element),el(this,Qa,fh.get(il(this,Ja))),il(this,Ya).setParent(il(this,Ja))),this.prevArgs&&il(this,Qa)&&this.args.selector!==this.prevArgs.selector){let t=this.args.selector?il(this,Qa).queryAll(this.args.selector):[];il(this,Ya).setChildren(t)}il(this,Ya).setThreshold(this.args.threshold),el(this,Ka,this.args.link?[...document.querySelectorAll(this.args.link)]:[]),el(this,Za,Wi.get(this.args.action)),el(this,Ga,Wi.get(this.args.linkAction)),el(this,tl,za.get(this.args.mode))}}Ya=new WeakMap,Ka=new WeakMap,Za=new WeakMap,Ga=new WeakMap,Ja=new WeakMap,Qa=new WeakMap,tl=new WeakMap;var ol,hl,al,ll=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},cl=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ul{constructor(){ol.set(this,void 0),hl.set(this,void 0),al.set(this,void 0),ll(this,ol,[]),ll(this,hl,0),ll(this,al,5)}setElements(t){ll(this,ol,t),ll(this,hl,cl(this,ol).length)}setThreshold(t){ll(this,al,t)}detect(t,e){if(!J(cl(this,ol)))return[-1,void 0];let i=-1,s=void 0;for(let n=0;n<cl(this,hl);n++)if(this.isInBounds(cl(this,ol)[n],t,e)){0===n?(i=n,s=cl(this,ol)[n]):n<cl(this,hl)-1&&(i=n+1,s=cl(this,ol)[n+1]);break}return[i,s]}isInBounds(t,e,i){const s=t.getBoundingClientRect();return e>s.left-cl(this,al)&&e<s.left+s.width+cl(this,al)&&i>s.top-cl(this,al)&&i<s.top+s.height+cl(this,al)}}ol=new WeakMap,hl=new WeakMap,al=new WeakMap;var dl,pl,gl,vl,ml,fl,wl,kl,yl=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},bl=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ml{constructor(t){dl.set(this,void 0),pl.set(this,void 0),gl.set(this,void 0),vl.set(this,void 0),ml.set(this,void 0),fl.set(this,void 0),wl.set(this,void 0),kl.set(this,void 0),yl(this,dl,t),yl(this,pl,new bs),yl(this,fl,150),yl(this,wl,!1),yl(this,kl,void 0),bl(this,pl).setTarget(bl(this,dl)),bl(this,pl).preventDefault(!1),bl(this,pl).setCallback(this.onMove.bind(this)),yl(this,gl,void 0),yl(this,vl,void 0),yl(this,ml,void 0)}setLongPressTimeout(t){yl(this,fl,t)}onDragStart(t){yl(this,gl,t)}onDragOver(t){yl(this,vl,t)}onDragEnd(t){yl(this,ml,t)}attach(){bl(this,pl).attach()}detach(){bl(this,pl).detach()}onMove(t){switch(t.type){case"down":if(bl(this,wl))return;yl(this,kl,setTimeout(()=>{bl(this,gl)&&bl(this,gl).call(this,t)&&yl(this,wl,!0)},bl(this,fl)));break;case"move":if(this.cancelTimeout(),!bl(this,wl))return;bl(this,vl)&&bl(this,vl).call(this,t);break;case"up":if(this.cancelTimeout(),!bl(this,wl))return;bl(this,ml)&&bl(this,ml).call(this,t),yl(this,wl,!1)}}cancelTimeout(){bl(this,kl)&&(clearTimeout(bl(this,kl)),yl(this,kl,void 0))}}dl=new WeakMap,pl=new WeakMap,gl=new WeakMap,vl=new WeakMap,ml=new WeakMap,fl=new WeakMap,wl=new WeakMap,kl=new WeakMap;var Cl,Al=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},El=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Wl{constructor(){this.length=this.to=this.from=-1,this.rtl=!1}setProperty(t){if(!t||!J(t.from)||!J(t.to))throw new a("[OpacityAnimator] Property has incorrect format");this.from=t.from,this.to=t.to,this.length=Math.abs(this.to-this.from),this.rtl=this.from>this.to}perform(t,e,i){if(this.to<0)return;let s=this.length*e;t.style&&(t.style.opacity=this.rtl?Math.max(this.from-s,0):Math.min(this.from+s,1))}}class Tl{constructor(t){if(Cl.set(this,void 0),!J(t))throw new a("[PropertyAnimator] Valid property is required");this.property=t,this.length=this.to=this.from=-1,this.rtl=!1,Al(this,Cl,"")}setProperty(t){if(!t||!J(t.from)||!J(t.to))throw new a("[PropertyAnimator] Property has incorrect format");this.from=t.from,this.to=t.to,this.length=Math.abs(this.to-this.from),this.rtl=this.from>this.to,Al(this,Cl,t.unit)}perform(t,e,i){if(!this.property)return;let s=this.length*e;t.style&&(t.style[this.property]=this.createValue(this.rtl?this.from-s:this.from+s,El(this,Cl)))}createValue(t,e){return`${t}${null!=e?e:""}`}}Cl=new WeakMap;class Sl{constructor(){this.prop=void 0}setProperty(t){if(!t)throw new a("[TransformAnimator] Property has incorrect format");this.prop=t}build(t){let e=[];for(let i in this.prop){let s=this.prop[i],n=Math.abs(s.to-s.from),r=s.from>s.to?s.from-n*t:s.from+n*t;e.push(this.buildSingle(i,r,s.unit))}return e.join(" ")}buildSingle(t,e,i){return`${t}(${e}${i})`}perform(t,e){this.prop&&t.style&&(t.style.transform=this.build(e))}}var xl,Ll,Pl,Il,Dl,Bl,Hl,Nl,$l,Ol,Rl,_l,ql,Fl,Ul=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},zl=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};new WeakMap,new WeakMap,new WeakMap,new WeakMap;class Vl{get(t){if(J(t))switch(t){case"opacity":return new Wl;case"transform":return new Sl;default:return new Tl(t)}}}class jl{constructor(t){xl.set(this,void 0),Ll.set(this,void 0),Pl.set(this,void 0),Il.set(this,void 0),Dl.set(this,void 0),Bl.set(this,void 0),Hl.set(this,void 0),Nl.set(this,void 0),$l.set(this,void 0),Ul(this,Ll,[]),Ul(this,Dl,void 0),Ul(this,Il,void 0),Ul(this,Bl,null!=t&&t),Ul(this,Nl,new Vl),Ul(this,Pl,!1),Ul(this,xl,void 0),Ul(this,Hl,!1),Ul(this,$l,void 0)}onFinish(t){Ul(this,xl,t)}setAnimators(t){Ul(this,Ll,t)}setProps(t){if(J(t)){Ul(this,Ll,[]);try{for(let e in t){let i=zl(this,Nl).get(e);if(!i)return;i.setProperty(t[e]),zl(this,Ll).push(i)}}catch(t){this.reportError(t)}}}setElement(t){Ul(this,Dl,t)}setOnError(t){Ul(this,$l,t)}animate(t,e,i){if(zl(this,Pl))return;if(!zl(this,Dl)||0===zl(this,Ll).length)return void this.reportError(new Error("Animation cannot be performed: element or animators are not set"));let s=null!=e?e:0,n=i||!1;Ul(this,Pl,!0),requestAnimationFrame(this.animateAsync.bind(this,t,s,n))}isLocked(){return zl(this,Pl)}animateAsync(t,e,i,s){zl(this,Il)||Ul(this,Il,s);let n=s-zl(this,Il),r=n/t,o=0;o=0===e?r:i?e-r*e:e+r*e,this.callUpdate(i?Math.max(o,0):Math.min(o,1),1),n<t&&!zl(this,Hl)?requestAnimationFrame(this.animateAsync.bind(this,t,e,i)):this.endAnimation(i)}endAnimation(t){zl(this,Bl)&&zl(this,Dl)&&zl(this,Dl).removeAttribute("style"),zl(this,xl)&&zl(this,xl).call(this,zl(this,Dl),t,zl(this,Hl)),Ul(this,Hl,!1),Ul(this,Il,void 0),Ul(this,Pl,!1)}callUpdate(t,e){try{zl(this,Ll).forEach(i=>i.perform(zl(this,Dl),t,e))}catch(t){this.reportError(t),Ul(this,Hl,!0)}}reportError(t){zl(this,$l)?zl(this,$l).call(this,t):(console.error("An error occured in CuiAnimtionEngine"),console.error(t))}}xl=new WeakMap,Ll=new WeakMap,Pl=new WeakMap,Il=new WeakMap,Dl=new WeakMap,Bl=new WeakMap,Hl=new WeakMap,Nl=new WeakMap,$l=new WeakMap;class Xl{constructor(t){Ol.set(this,void 0),Rl.set(this,void 0),_l.set(this,void 0),ql.set(this,void 0),Fl.set(this,void 0),Ul(this,Ol,void 0),Ul(this,Rl,[]),Ul(this,_l,new jl(t)),Ul(this,ql,new Vl),Ul(this,Fl,void 0)}setElement(t){Ul(this,Ol,t)}setOnFinish(t){zl(this,_l).onFinish(t)}setOnError(t){Ul(this,Fl,t),zl(this,_l).setOnError(t)}setProps(t){if(J(t)){Ul(this,Rl,[]);try{for(let e in t){let i=zl(this,ql).get(e);if(!i)return;i.setProperty(t[e]),zl(this,Rl).push(i)}}catch(t){this.reportError(t)}}}update(t){zl(this,Ol)&&0!==zl(this,Rl).length&&zl(this,Rl).forEach(e=>e.perform(zl(this,Ol),Math.min(t,1),1))}updateAsync(t){requestAnimationFrame(this.update.bind(this,t))}finish(t,e,i){zl(this,Ol)&&zl(this,_l).setElement(zl(this,Ol)),zl(this,_l).setAnimators(zl(this,Rl)),zl(this,_l).animate(e,t,i)}reportError(t){zl(this,Fl)?zl(this,Fl).call(this,t):console.log(t)}}Ol=new WeakMap,Rl=new WeakMap,_l=new WeakMap,ql=new WeakMap,Fl=new WeakMap;var Yl,Kl,Zl,Gl,Jl,Ql,tc,ec,ic,sc,nc,rc,oc=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},hc=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ac{constructor(){this.target=":scope  > *",this.trigger=":scope  > *",this.timeout=150,this.threshold=5}parse(t){this.target=t.target?":scope  "+t.target:":scope  > *",this.trigger=t.trigger?":scope  "+t.trigger:":scope  > *",this.timeout=ht(t.timeout,150),this.threshold=ht(t.threshold,5)}}class lc{constructor(t){Yl.set(this,void 0),oc(this,Yl,null!=t?t:"cui"),this.attribute=hc(this,Yl)+"-sortable"}getStyle(){return null}get(t,e){return new cc(t,this.attribute,e,hc(this,Yl))}}Yl=new WeakMap;class cc extends jn{constructor(t,e,i,s){super("CuiSortableHandler",t,e,new ac,i),Kl.set(this,void 0),Zl.set(this,void 0),Gl.set(this,void 0),Jl.set(this,void 0),Ql.set(this,void 0),tc.set(this,void 0),ec.set(this,void 0),ic.set(this,void 0),sc.set(this,void 0),nc.set(this,void 0),rc.set(this,void 0),oc(this,Gl,[]),oc(this,Zl,[]),oc(this,Ql,-1),oc(this,Jl,null),oc(this,sc,null),oc(this,tc,null),oc(this,Kl,new Ml(t)),hc(this,Kl).onDragStart(this.onDragStart.bind(this)),hc(this,Kl).onDragOver(this.onDragOver.bind(this)),hc(this,Kl).onDragEnd(this.onDragEnd.bind(this)),oc(this,ec,gt("{prefix}-moving",s)),oc(this,rc,gt("{prefix}-sortable-preview",s)),oc(this,ic,new ul),oc(this,nc,new Xl),hc(this,nc).setOnFinish(()=>{let t=hc(this,Jl),e=hc(this,Ql);this.stopMovementPrep(),this.utils.bus.emit(j,null,!1),this.emitEvent(K,{item:t,index:e,timestamp:new Date})})}onInit(){hc(this,Kl).attach(),this.getTargetsAndTrggers(),hc(this,ic).setThreshold(this.args.threshold)}onUpdate(){!this.prevArgs||this.args.target===this.prevArgs.target&&this.args.trigger===this.prevArgs.trigger||this.getTargetsAndTrggers(),hc(this,Kl).setLongPressTimeout(this.args.timeout)}onDestroy(){hc(this,Kl).detach()}getTargetsAndTrggers(){try{if(oc(this,Gl,[...this.element.querySelectorAll(this.args.target)]),oc(this,Zl,[...this.element.querySelectorAll(this.args.trigger)]),hc(this,Zl).length!==hc(this,Gl).length)throw new Error(`Triggers (count ${hc(this,Zl).length}) and targets (count ${hc(this,Gl).length}) selector are not correct`);hc(this,ic).setElements(hc(this,Gl))}catch(t){this._log.error("Incorrect trigger or target selector"),this._log.exception(t,"getTargetsAndTrggers"),oc(this,Gl,[]),oc(this,Zl,[])}}onDragStart(t){return oc(this,Ql,this.getPressedElementIdx(t.target)),oc(this,Jl,hc(this,Ql)>-1?hc(this,Gl)[hc(this,Ql)]:null),!!J(hc(this,Jl))&&(this.utils.bus.emit(j,null,!0),this.startMovementPrep(t),this.emitEvent(Z,{item:hc(this,Jl),index:hc(this,Ql),timestamp:new Date}),!0)}onDragOver(t){this.move(t),t.event.preventDefault()}onDragEnd(t){J(hc(this,tc))&&(hc(this,nc).setElement(hc(this,tc)),hc(this,nc).setProps(this.getFinishAnimation()),hc(this,nc).finish(0,100,!1))}getPressedElementIdx(t){return hc(this,Zl).findIndex(e=>e.contains(t))}startMovementPrep(t){this.mutate(()=>{this.createPreview(),J(hc(this,Jl))&&this.helper.setClass(hc(this,ec),hc(this,Jl)),this.helper.setClass("cui-locked",this.element),this.helper.setClass(v,document.body),this.setPreviewPosition(t),this.setCurrentPosition(t)})}stopMovementPrep(){this.mutate(()=>{J(hc(this,Jl))&&this.helper.removeClass(hc(this,ec),hc(this,Jl)),this.helper.removeClass(v,document.body),this.helper.removeClass("cui-locked",this.element),this.removePreview(),oc(this,Jl,null),oc(this,sc,null),this.getTargetsAndTrggers()})}move(t){this.mutate(()=>{this.setPreviewPosition(t),this.setCurrentPosition(t)})}createPreview(){J(hc(this,Jl))?(oc(this,tc,new Ui("div").setClasses(hc(this,rc)).build()),hc(this,tc).style.width=hc(this,Jl).offsetWidth+"px",hc(this,tc).style.height=hc(this,Jl).offsetHeight+"px",document.body.appendChild(hc(this,tc))):this.logError("Cannot create preview - current target does not exist","createPreview")}removePreview(){J(hc(this,tc))&&(hc(this,tc).remove(),oc(this,tc,null))}setPreviewPosition(t){J(hc(this,tc))&&(hc(this,tc).style.top=t.y+"px",hc(this,tc).style.left=t.x+"px")}setCurrentPosition(t){if(!hc(this,Jl))return;let[e,i]=hc(this,ic).detect(t.x,t.y);if(e!==hc(this,Ql)&&i&&hc(this,sc)!==i){let t=i;this.insertElement(hc(this,Jl),t),oc(this,sc,t),this.getTargetsAndTrggers(),oc(this,Ql,e)}}insertElement(t,e){J(e)?this.element.insertBefore(t,e):this.element.appendChild(t)}getFinishAnimation(){if(!nt(hc(this,Jl),hc(this,tc)))return{opacity:{from:1,to:0}};const t=hc(this,Jl).getBoundingClientRect();return{opacity:{from:1,to:0},top:{from:hc(this,tc).offsetTop,to:t.top>0?t.top:hc(this,tc).offsetTop,unit:"px"},left:{from:hc(this,tc).offsetLeft,to:t.left>0?t.left:hc(this,tc).offsetLeft,unit:"px"}}}}Kl=new WeakMap,Zl=new WeakMap,Gl=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,tc=new WeakMap,ec=new WeakMap,ic=new WeakMap,sc=new WeakMap,nc=new WeakMap,rc=new WeakMap;var uc,dc,pc,gc=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},vc=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class mc{constructor(){this.spinner="circle",this.scale=1}parse(t){pt(t)?this.spinner=dt(t,"circle"):(this.spinner=dt(t.spinner,"circle"),this.scale=ht(t.scale,1))}}class fc{constructor(t){uc.set(this,void 0),gc(this,uc,null!=t?t:"cui"),this.attribute=vc(this,uc)+"-spinner",m.spinner_circle='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 7.800378,1.7908996 A 8.4986862,8.4986862 0 0 1 18.2091,7.8003784 8.4986862,8.4986862 0 0 1 12.199621,18.209101 8.4986862,8.4986862 0 0 1 1.7908995,12.199622 8.4986862,8.4986862 0 0 1 7.800378,1.7908996 Z"></path></svg>',m.spinner_circle_double='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 10,1.5000006 A 8.4999997,8.4999997 0 0 1 18.5,10 8.4999997,8.4999997 0 0 1 10,18.499999 8.4999997,8.4999997 0 0 1 1.5000005,10 8.4999997,8.4999997 0 0 1 10,1.5000006 Z"></path><path d="M 10,3.4999997 A 6.5000002,6.5000002 0 0 1 16.5,10 6.5000002,6.5000002 0 0 1 10,16.5 6.5000002,6.5000002 0 0 1 3.5,9.9999993 6.5000002,6.5000002 0 0 1 10,3.4999997 Z"></path></svg>'}getStyle(){return null}get(t,e){return new wc(t,e,this.attribute,vc(this,uc))}}uc=new WeakMap;class wc extends jn{constructor(t,e,i,s){super("CuiSpinnerHandler",t,i,new mc,e),dc.set(this,void 0),pc.set(this,void 0),gc(this,dc,null),gc(this,pc,gt("{prefix}-animation-pause",s))}onInit(){gc(this,dc,this.onEvent(X,this.onPause.bind(this))),this.add()}onUpdate(){this.prevArgs&&this.args.spinner!==this.prevArgs.spinner&&this.add()}onDestroy(){this.removeIfAnyExisists(),this.detachEvent(X,vc(this,dc))}addSpinner(t,e){this.element.appendChild(t),this.element.classList.add("animation-spinner-"+e)}add(){const t=J(this.args.spinner)?m["spinner_"+this.args.spinner]:null;if(!J(t))return void this._log.warning("Incorrect spinner name: "+this.args.spinner);this.removeIfAnyExisists();const e=new tr(t).setScale(this.args.scale).build();this.mutate(this.addSpinner,e,this.args.spinner)}removeIfAnyExisists(){let t=this.element.querySelector("svg");t&&t.remove()}onPause(t){this.fetch(()=>{t&&!this.helper.hasClass(vc(this,pc),this.element)?this.helper.setClassesAs(this.element,vc(this,pc)):this.helper.removeClassesAs(this.element,vc(this,pc))}),this.emitEvent(Y,t)}}dc=new WeakMap,pc=new WeakMap;var kc,yc,bc,Mc,Cc,Ac,Ec,Wc,Tc,Sc,xc,Lc,Pc,Ic,Dc,Bc,Hc,Nc,$c=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Oc=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Rc=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class _c{constructor(t,e){kc.set(this,void 0),yc.set(this,void 0),Oc(this,kc,t),Oc(this,yc,null!=e?e:300),this.targets="> li",this.timeout=Rc(this,yc),this.links="",this.autoTimeout=-1,this.height="",this.animation="",this.loop=!1}parse(t){var e,i;this.targets=":scope "+dt(t.targets,"> li"),this.timeout=ht(t.timeout,Rc(this,yc)),this.links=t.links,this.autoTimeout=ht(t.autoTimeout,-1),this.height=dt(t.height,"auto"),this.animation=dt(t.animation,"slide"),this.loop=(e=t.loop,i=!1,J(e)?ut(e):i)}}kc=new WeakMap,yc=new WeakMap;class qc{constructor(t){this.attribute=(null!=t?t:"cui")+"-slider"}getStyle(){return null}get(t,e){return new Fc(t,e,this.attribute)}}class Fc extends Yn{constructor(t,e,i){super("CuiSliderHandler",t,i,new _c(e.setup.prefix,e.setup.animationTime),e),bc.set(this,void 0),Mc.set(this,void 0),Cc.set(this,void 0),Ac.set(this,void 0),Ec.set(this,void 0),Wc.set(this,void 0),Tc.set(this,void 0),Sc.set(this,void 0),xc.set(this,void 0),Lc.set(this,void 0),Pc.set(this,void 0),Ic.set(this,void 0),Dc.set(this,void 0),Bc.set(this,void 0),Hc.set(this,void 0),Nc.set(this,void 0),Oc(this,bc,[]),Oc(this,Mc,-1),Oc(this,xc,-1),Oc(this,Cc,[]),Oc(this,Ec,null),Oc(this,Nc,null),Oc(this,Wc,!1),Oc(this,Tc,-1),Oc(this,Sc,0),Oc(this,Lc,null),Oc(this,Pc,.4),Oc(this,Ic,new Xl),Oc(this,Dc,new Xl),Rc(this,Ic).setOnFinish(this.onAnimationFinish.bind(this)),Oc(this,Hc,0),Oc(this,Ac,new co(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),Oc(this,Bc,En[this.args.animation])}onInit(){Oc(this,Ec,this.onEvent(H,this.onPushSwitch.bind(this))),Oc(this,Nc,this.onEvent(V,this.onMove.bind(this))),this.getTargets(),this.getLinks(),this.getActiveIndex(),this.setLinkActive(-1,Rc(this,Mc)),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(Rc(this,bc)[Rc(this,Mc)]))}),Oc(this,Ac,new co(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),Oc(this,Bc,En[this.args.animation]),this.startTask()}onUpdate(){this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(Rc(this,bc)[Rc(this,Mc)]))}),Oc(this,Bc,En[this.args.animation]),this.startTask()}onDestroy(){Rc(this,Ac).stop(),this.detachEvent(H,Rc(this,Ec)),this.detachEvent(V,Rc(this,Nc))}onMutation(t){}onMove(t){if(this.isLocked||!Rc(this,Bc))return;let e=Rc(this,bc)[Rc(this,Mc)];switch(t.type){case"down":if(Rc(this,Wc)||!e.contains(t.target))return;Oc(this,Wc,!0),Oc(this,Tc,t.x),Rc(this,Ic).setElement(e),this.helper.setClassesAs(document.body,v),t.event.cancelable&&t.event.preventDefault();break;case"up":if(!Rc(this,Wc))break;this.isLocked=!0;let i=Math.abs(Rc(this,Sc)),s=i*this.args.timeout,n=i<=Rc(this,Pc);Rc(this,Ic).finish(i,s,n),Rc(this,Dc).finish(i,s,n),this.helper.removeClassesAs(document.body,v),Oc(this,Wc,!1);break;case"move":if(!Rc(this,Wc))break;let r=(t.x-Rc(this,Tc))/e.offsetWidth;if(Math.abs(r-Rc(this,Sc))<.02)break;let o=yt(Rc(this,Sc)>0?"next":"prev",Rc(this,Mc),Rc(this,Hc));Oc(this,Sc,this.adjustMoveRatio(r)),o!==Rc(this,xc)&&(Rc(this,Lc)&&this.helper.removeClass(p,Rc(this,Lc)),Oc(this,Lc,Rc(this,bc)[o]),Oc(this,xc,o),Rc(this,Dc).setElement(Rc(this,Lc)),Rc(this,Dc).setProps(Rc(this,Sc)>0?Rc(this,Bc).previous.right:Rc(this,Bc).previous.left),Rc(this,Ic).setProps(Rc(this,Sc)>0?Rc(this,Bc).current.right:Rc(this,Bc).current.left),this.mutate(()=>{Rc(this,Lc)&&this.helper.setClass(p,Rc(this,Lc))})),this.mutate(()=>{Rc(this,Ic).update(Math.abs(Rc(this,Sc))),Rc(this,Dc).update(Math.abs(Rc(this,Sc)))}),t.event.cancelable&&t.event.preventDefault()}}adjustMoveRatio(t){return this.args.loop?t:Rc(this,Mc)===Rc(this,Hc)-1&&t>0||0===Rc(this,Mc)&&t<0?0:t}switch(t){return $c(this,void 0,void 0,(function*(){return!this.isLocked&&(this.onPushSwitch(t),!0)}))}onAnimationFinish(t,e,i){this.isLocked=!1;let s=Rc(this,bc)[Rc(this,xc)],n=Rc(this,bc)[Rc(this,Mc)];e?(J(Rc(this,Lc))&&(this.helper.removeClass(p,Rc(this,Lc)),this.helper.removeAttribute("style",Rc(this,Lc))),this.helper.removeAttribute("style",n),Oc(this,xc,-1),Oc(this,Lc,null),Oc(this,Tc,-1),Oc(this,Sc,0)):Rc(this,xc)>-1&&this.mutate(()=>{this.helper.removeClass(p,s),this.helper.setClass(this.activeClassName,s),this.helper.removeClass(this.activeClassName,n),this.helper.removeAttribute("style",n),this.helper.removeAttribute("style",s),this.setLinkActive(Rc(this,Mc),Rc(this,xc)),this.emitEvent(N,{timestamp:Date.now(),index:Rc(this,xc)}),Oc(this,Mc,Rc(this,xc)),Oc(this,xc,-1),Oc(this,Lc,null),Oc(this,Tc,-1),Oc(this,Sc,0)}),this.startTask()}onPushSwitch(t){if(!J(t)||this.isLocked||!Rc(this,Bc)||!this.args.loop&&0===Rc(this,Mc)&&"prev"===t||!this.args.loop&&Rc(this,Mc)===Rc(this,Hc)-1&&"next"===t)return;this.isLocked=!0;let e=yt(t,Rc(this,Mc),Rc(this,Hc));if(e==Rc(this,Mc)||e<0||e>=Rc(this,bc).length)return this._log.warning(`Index ${t} is not within the suitable range`),!1;Oc(this,xc,e);let i=Rc(this,bc)[Rc(this,Mc)],s=Rc(this,bc)[Rc(this,xc)];Rc(this,Ic).setElement(i),Rc(this,Dc).setElement(s),Rc(this,Ic).setProps("prev"===t?Rc(this,Bc).current.left:Rc(this,Bc).current.right),Rc(this,Dc).setProps("prev"===t?Rc(this,Bc).previous.left:Rc(this,Bc).previous.right),this.mutate(()=>{Rc(this,Ic).finish(0,this.args.timeout,!1),Rc(this,Dc).finish(0,this.args.timeout,!1),this.helper.setClass(p,s)})}getActiveIndex(){Oc(this,Mc,J(Rc(this,bc))?Rc(this,bc).findIndex(t=>this.helper.hasClass(this.activeClassName,t)):-1)}getElementHeight(t){return J(this.args.height)&&"auto"!==this.args.height?this.args.height:wt(t)+"px"}getTargets(){let t=this.element.querySelectorAll(this.args.targets);Oc(this,bc,t.length>0?[...t]:[]),Oc(this,Hc,Rc(this,bc).length)}getLinks(){Oc(this,Cc,J(this.args.links)?[...document.querySelectorAll(this.args.links)]:[])}setLinkActive(t,e){J(Rc(this,Cc))&&this.mutate(()=>{lt(t,0,Rc(this,Cc).length-1)&&this.helper.removeClass(this.activeClassName,Rc(this,Cc)[t]),lt(e,0,Rc(this,Cc).length-1)&&this.helper.setClass(this.activeClassName,Rc(this,Cc)[e])})}startTask(){Rc(this,Ac).stop(),this.args.autoTimeout&&Rc(this,Ac).start()}}bc=new WeakMap,Mc=new WeakMap,Cc=new WeakMap,Ac=new WeakMap,Ec=new WeakMap,Wc=new WeakMap,Tc=new WeakMap,Sc=new WeakMap,xc=new WeakMap,Lc=new WeakMap,Pc=new WeakMap,Ic=new WeakMap,Dc=new WeakMap,Bc=new WeakMap,Hc=new WeakMap,Nc=new WeakMap;var Uc,zc,Vc,jc,Xc,Yc,Kc,Zc,Gc,Jc,Qc=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},tu=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},eu=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class iu{constructor(t,e){Uc.set(this,void 0),zc.set(this,void 0),tu(this,Uc,t),tu(this,zc,null!=e?e:300),this.targets="",this.in="",this.out="",this.timeout=eu(this,zc),this.links="",this.switch="",this.autoTimeout=-1,this.height="",this.loop=!1}parse(t){this.targets=J(t.targets)?":scope "+t.targets:":scope  > *",this.in=dt(t.in,gt(".{prefix}-switch-animation-default-in",eu(this,Uc))),this.out=dt(t.out,gt(".{prefix}-switch-animation-default-out",eu(this,Uc))),this.timeout=ht(t.timeout,eu(this,zc)),this.links=dt(t.links,""),this.switch=dt(t.switch,""),this.autoTimeout=ht(t.autoTimeout,-1),this.height=dt(t.height,"auto"),this.loop=ut(t.loop)}}Uc=new WeakMap,zc=new WeakMap;class su{constructor(t){this.attribute=(null!=t?t:"cui")+"-switch"}getStyle(){return null}get(t,e){return new nu(t,e,this.attribute)}}class nu extends Yn{constructor(t,e,i){super("CuiSwitchHandler",t,i,new iu(e.setup.prefix,e.setup.animationTime),e),Vc.set(this,void 0),jc.set(this,void 0),Xc.set(this,void 0),Yc.set(this,void 0),Kc.set(this,void 0),Zc.set(this,void 0),Gc.set(this,void 0),Jc.set(this,void 0),tu(this,Vc,[]),tu(this,jc,-1),tu(this,Xc,[]),tu(this,Yc,[]),tu(this,Zc,null),tu(this,Gc,tu(this,Jc,[])),tu(this,Kc,new co(this.args.autoTimeout,!0,this.switch.bind(this,"next")))}onInit(){tu(this,Zc,this.onEvent(H,this.onPushSwitch.bind(this))),this.parseArguments(),this.getTargets(),this.getActiveIndex(),this.getSwitches(),this.setSwitchesActive(eu(this,jc)),this.setLinkActive(-1,eu(this,jc)),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(eu(this,Vc)[eu(this,jc)]))}),tu(this,Kc,new co(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),this.startTask()}onUpdate(){this.parseArguments(),this.getTargets(),this.getSwitches(),this.setSwitchesActive(eu(this,jc)),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(eu(this,Vc)[eu(this,jc)]))}),this.startTask()}onDestroy(){eu(this,Kc).stop(),this.detachEvent(H,eu(this,Zc))}onMutation(t){this.getTargets(),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(eu(this,Vc)[eu(this,jc)]))})}switch(t){return Qc(this,void 0,void 0,(function*(){if(this.isLocked)return!1;this.getSwitches(),this.getActiveIndex();let e=yt(t,eu(this,jc),eu(this,Vc).length);if(!this.args.loop&&("next"===t&&0===e||"prev"===t&&0===eu(this,jc)))return this.logInfo("Switch blocked by loop settings","switch"),!1;if(e==eu(this,jc)||e<0||e>=eu(this,Vc).length)return this.logWarning(`Index ${t} is not within the suitable range`,"switch"),!1;this.isLocked=!0,this.setSwitchesActive(e);let i=eu(this,Vc)[e];return yield this.actionsHelper.performSwitchAction(i,eu(this,jc)>-1?eu(this,Vc)[eu(this,jc)]:null,eu(this,Gc),eu(this,Jc),()=>{i.classList.add(this.activeClassName),eu(this,jc)>-1&&eu(this,Vc)[eu(this,jc)].classList.remove(this.activeClassName),this.setLinkActive(eu(this,jc),e),this.helper.setStyle(this.element,"height",this.getElementHeight(i)),this.startTask(),this.isLocked=!1},this.args.timeout),this.emitEvent(N,{timestamp:Date.now(),index:e}),!0}))}onPushSwitch(t){this.switch(t)}getActiveIndex(){tu(this,jc,J(eu(this,Vc))?eu(this,Vc).findIndex(t=>this.helper.hasClass(this.activeClassName,t)):-1)}getElementHeight(t){return J(this.args.height)&&"auto"!==this.args.height?this.args.height:wt(t)+"px"}parseArguments(){tu(this,Gc,Wi.get(this.args.in)),tu(this,Jc,Wi.get(this.args.out)),tu(this,Xc,J(this.args.links)?[...document.querySelectorAll(this.args.links)]:[])}getTargets(){let t=this.element.querySelectorAll(this.args.targets);tu(this,Vc,t.length>0?[...t]:[])}getSwitches(){let t=J(this.args.switch)?document.querySelectorAll(this.args.switch):null;tu(this,Yc,[]),t&&t.forEach(t=>{eu(this,Yc).push(t)})}setLinkActive(t,e){J(eu(this,Xc))&&(lt(t,0,eu(this,Xc).length-1)&&this.helper.removeClass(this.activeClassName,eu(this,Xc)[t]),lt(e,0,eu(this,Xc).length-1)&&this.helper.setClass(this.activeClassName,eu(this,Xc)[e]))}setSwitchesActive(t){eu(this,Yc).forEach(e=>{this.emitLinkSwitch(e.$cuid,t)})}emitLinkSwitch(t,e){J(t)&&this.utils.bus.emit(H,t,e)}startTask(){eu(this,Kc).stop(),this.args.autoTimeout&&eu(this,Kc).start()}}Vc=new WeakMap,jc=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,Zc=new WeakMap,Gc=new WeakMap,Jc=new WeakMap;var ru,ou,hu,au=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},lu=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class cu{constructor(){this.index="",this.target=""}parse(t){J(t)&&(this.target=t.target,this.index=t.index)}}class uu{constructor(t){this.attribute=(null!=t?t:"cui")+"-switcher"}getStyle(){return null}get(t,e){return new du(t,e,this.attribute)}}class du extends jn{constructor(t,e,i){super("CuiSwitcherHandler",t,i,new cu,e),ru.set(this,void 0),ou.set(this,void 0),hu.set(this,void 0),au(this,ru,null),au(this,ou,"UL"===t.tagName),this.onClickEvent=this.onClickEvent.bind(this),au(this,hu,[])}onInit(){this.setEvents(),this.getTarget()}onUpdate(){this.getTarget()}onDestroy(){this.removeEvents()}getTarget(){J(this.args.target)||au(this,ru,null);let t=document.querySelector(this.args.target);J(t)&&au(this,ru,t.$cuid)}setEvents(){if(lu(this,ou)){this.element.querySelectorAll("li > a").forEach((t,e)=>{let i=this.onListItemClick.bind(this,e);lu(this,hu).push(i),t.addEventListener("click",i)})}else this.element.addEventListener("click",this.onClickEvent)}removeEvents(){if(lu(this,ou)){this.element.querySelectorAll("li > a").forEach((t,e)=>{lu(this,hu).length>e&&t.removeEventListener("click",lu(this,hu)[e])}),au(this,hu,[])}else this.element.removeEventListener("click",this.onClickEvent)}onClickEvent(t){this.getTarget(),J(this.args.index)&&this.onClick(this.args.index.trim())}onListItemClick(t,e){this.getTarget(),this.onClick(t)}onClick(t){J(lu(this,ru))&&this.utils.bus.emit(H,lu(this,ru),t)}}ru=new WeakMap,ou=new WeakMap,hu=new WeakMap;var pu,gu,vu,mu,fu=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},wu=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ku{constructor(){this.action="",this.target=""}parse(t){J(t)&&pt(t)?this.action=t:(this.target=dt(t.target,""),this.action=t.action)}}class yu{constructor(t){this.attribute=(null!=t?t:"cui")+"-toggle"}getStyle(){return null}get(t,e){return new bu(t,e,this.attribute)}}class bu extends jn{constructor(t,e,i){super("CuiToggleHandler",t,i,new ku,e),pu.set(this,void 0),gu.set(this,void 0),vu.set(this,void 0),mu.set(this,void 0),fu(this,pu,this.element),fu(this,gu,e),fu(this,vu,null),fu(this,mu,[]),this.onClick=this.onClick.bind(this)}onInit(){fu(this,pu,this.getTarget()),fu(this,mu,Wi.get(this.args.action)),this.element.addEventListener("click",this.onClick),fu(this,vu,this.onEvent(D,this.toggle.bind(this)))}onUpdate(){fu(this,pu,this.getTarget()),fu(this,mu,Wi.get(this.args.action))}onDestroy(){this.element.removeEventListener("click",this.onClick),this.detachEvent(D,wu(this,vu))}toggle(){wu(this,pu)?(wu(this,mu).forEach(t=>t.toggle(wu(this,pu),wu(this,gu))),this.emitEvent(B,{action:this.args.action,target:wu(this,pu),timestamp:Date.now()})):this.logError("Target in not provided","toggle")}onClick(t){this.toggle(),t.preventDefault()}getTarget(){var t;return this.args.target&&null!==(t=document.querySelector(this.args.target))&&void 0!==t?t:this.element}}pu=new WeakMap,gu=new WeakMap,vu=new WeakMap,mu=new WeakMap;var Mu,Cu,Au,Eu,Wu,Tu,Su,xu,Lu,Pu=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Iu=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Du{constructor(t){Mu.set(this,void 0),Pu(this,Mu,gt(".{prefix}-animation-tooltip-in",t)),this.content="",this.width=150,this.margin=8,this.timeout=2e3,this.pos="",this.action=Iu(this,Mu)}parse(t){pt(t)?this.content=dt(t,""):(this.content=dt(t.content,""),this.width=ht(t.width,150),this.margin=ht(t.margin,8),this.pos=dt(t.pos,""),this.action=dt(t.action,Iu(this,Mu)),this.timeout=ht(t.timeout,2e3))}}Mu=new WeakMap;class Bu{constructor(t){Cu.set(this,void 0),Pu(this,Cu,null!=t?t:"cui"),this.attribute=Iu(this,Cu)+"-tooltip"}getStyle(){return null}get(t,e){return new Hu(t,this.attribute,e,Iu(this,Cu))}}Cu=new WeakMap;class Hu extends jn{constructor(t,e,i,s){super("CuiTooltipHandler",t,e,new Du(s),i),Au.set(this,void 0),Eu.set(this,void 0),Wu.set(this,void 0),Tu.set(this,void 0),Su.set(this,void 0),xu.set(this,void 0),Lu.set(this,void 0),Pu(this,Eu,void 0),Pu(this,xu,[]),Pu(this,Lu,void 0),Pu(this,Su,gt("{prefix}-tooltip-data",s)),Pu(this,Au,new Ur(t)),Iu(this,Au).setCallback(this.onHover.bind(this)),Pu(this,Wu,8),Pu(this,Tu,new so),Iu(this,Tu).setPreferred("top-center")}onInit(){Iu(this,Au).attach(),this.getDataFromArgs(),Pu(this,Lu,new co(this.args.timeout,!1,this.removeTooltip.bind(this)))}onUpdate(){this.getDataFromArgs(),Iu(this,Lu)&&Iu(this,Lu).setTimeout(this.args.timeout)}onDestroy(){this.removeTooltip(),Iu(this,Au).detach()}onHover(t){t.isHovering?this.createTooltip():this.removeTooltip()}createTooltip(){if(J(Iu(this,Eu))||!J(this.args.content))return;const t=this.element.getBoundingClientRect();Pu(this,Eu,new Ui("div").setClasses(Iu(this,Su)).build()),Iu(this,Eu).textContent=this.args.content,Iu(this,Eu).style.maxWidth=this.args.width+"px",document.body.appendChild(Iu(this,Eu)),this.mutate(()=>{if(!Iu(this,Eu))return;const e=Iu(this,Eu).getBoundingClientRect();Iu(this,Tu).setMargin(Iu(this,Wu));try{let[i,s]=Iu(this,Tu).calculate(t,e);Iu(this,Eu).style.top=s+"px",Iu(this,Eu).style.left=i+"px",this.toggleActions(),Iu(this,Lu)&&Iu(this,Lu).start()}catch(t){this.logError(t.message,"createTooltip",t)}})}removeTooltip(){J(Iu(this,Eu))&&(Iu(this,Lu)&&Iu(this,Lu).stop(),this.mutate(()=>{Iu(this,Eu).remove(),Pu(this,Eu,void 0)}))}getDataFromArgs(){Iu(this,Tu).setMargin(this.args.margin),Iu(this,Tu).setStatic(this.args.pos),Pu(this,xu,Wi.get(this.args.action))}toggleActions(){Iu(this,Eu)&&Iu(this,xu).forEach(t=>{t.toggle(Iu(this,Eu))})}}Au=new WeakMap,Eu=new WeakMap,Wu=new WeakMap,Tu=new WeakMap,Su=new WeakMap,xu=new WeakMap,Lu=new WeakMap;var Nu,$u,Ou=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ru=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class _u{constructor(){this.name="click-plugin",Nu.set(this,void 0),$u.set(this,void 0),this.description="CuiWindowClickPlugin",Ou(this,Nu,void 0),Ou(this,$u,this.onWindowClick.bind(this))}init(t){Ou(this,Nu,t.bus),window.addEventListener("click",Ru(this,$u))}destroy(){window.removeEventListener("click",Ru(this,$u))}onWindowClick(t){Ru(this,Nu)&&Ru(this,Nu).emit(q,null,t)}}Nu=new WeakMap,$u=new WeakMap;var qu,Fu,Uu,zu,Vu,ju,Xu,Yu=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ku=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Zu{constructor(t,e){qu.set(this,void 0),Fu.set(this,void 0),Uu.set(this,void 0),zu.set(this,void 0),Vu.set(this,void 0),ju.set(this,void 0),Xu.set(this,void 0),Yu(this,Uu,!1),Yu(this,zu,!0),Yu(this,Vu,!1),Yu(this,qu,void 0),Yu(this,Fu,null!=e?e:[]),Yu(this,ju,this.onKeyDown.bind(this)),Yu(this,Xu,this.onKeyUp.bind(this))}setCallback(t){Yu(this,qu,t)}isInProgress(){return Ku(this,Uu)}attach(){document.addEventListener("keydown",Ku(this,ju)),Ku(this,zu)&&document.addEventListener("keyup",Ku(this,Xu)),Yu(this,Vu,!0)}detach(){document.removeEventListener("keydown",Ku(this,ju)),Ku(this,zu)&&document.addEventListener("keyup",Ku(this,Xu)),Yu(this,Vu,!1)}isAttached(){return Ku(this,Vu)}onKeyDown(t){if(!Ku(this,Uu)){Yu(this,Uu,!0);try{J(Ku(this,Fu))&&!Ku(this,Fu).includes(t.code)||!Ku(this,qu)||Ku(this,qu).call(this,t)}catch(t){console.error(t)}finally{Ku(this,zu)||Yu(this,Uu,!1)}}}onKeyUp(t){Yu(this,Uu,!1)}}qu=new WeakMap,Fu=new WeakMap,Uu=new WeakMap,zu=new WeakMap,Vu=new WeakMap,ju=new WeakMap,Xu=new WeakMap;var Gu,Ju,Qu=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},td=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ed{constructor(t){Gu.set(this,void 0),Ju.set(this,void 0),Qu(this,Ju,t),Qu(this,Gu,new Zu(!0)),td(this,Gu).setCallback(this.onKeyDown.bind(this))}connect(){td(this,Gu).attach()}disconnect(){td(this,Gu).detach()}onKeyDown(t){td(this,Ju).emit(_,null,{timestamp:Date.now(),event:t})}}Gu=new WeakMap,Ju=new WeakMap;var id,sd=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},nd=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class rd{constructor(t){this.name="keys-observer",id.set(this,void 0),this.description="CuiKeysObserverPlugin",this.setup=t,sd(this,id,void 0)}init(t){sd(this,id,new ed(t.bus)),nd(this,id).connect()}destroy(){nd(this,id)&&nd(this,id).disconnect()}}id=new WeakMap;var od,hd,ad,ld,cd,ud=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},dd=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class pd{constructor(t){od.set(this,void 0),hd.set(this,void 0),ad.set(this,void 0),ld.set(this,void 0),cd.set(this,void 0),ud(this,od,t),ud(this,ad,!1),ud(this,hd,void 0),ud(this,ld,!1),ud(this,cd,this.event.bind(this))}setCallback(t){ud(this,hd,t)}isInProgress(){return dd(this,ld)}attach(){window.matchMedia&&!dd(this,ad)&&dd(this,od)&&(window.matchMedia(dd(this,od)).addEventListener("change",dd(this,cd)),ud(this,ad,!0))}detach(){dd(this,ad)&&(window.matchMedia(dd(this,od)).removeEventListener("change",dd(this,cd)),ud(this,ad,!1))}isAttached(){return dd(this,ad)}event(t){if(!dd(this,ld)&&dd(this,hd)){ud(this,ld,!0);try{dd(this,hd).call(this,t)}catch(t){console.error(t)}finally{ud(this,ld,!1)}}}}od=new WeakMap,hd=new WeakMap,ad=new WeakMap,ld=new WeakMap,cd=new WeakMap;var gd,vd,md=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},fd=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class wd{constructor(t){this.description="Dark vs Light mode auto switcher",this.name="auto-light",gd.set(this,void 0),vd.set(this,void 0),this.description="CuiAutoLightModePlugin",this.setup=t,md(this,vd,void 0),md(this,gd,void 0)}init(t){md(this,vd,t),this.setup.autoLight&&"dark"==(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")&&fd(this,vd).setLightMode("dark"),md(this,gd,new pd("(prefers-color-scheme: dark)")),fd(this,gd).setCallback(this.onChange.bind(this)),fd(this,gd).attach()}destroy(){fd(this,gd)&&fd(this,gd).detach()}onChange(t){var e;if(!fd(this,vd))return;let i=fd(this,vd).setup.plugins[this.description];null!==(e=null==i?void 0:i.autoLight)&&void 0!==e&&e&&(t.matches?fd(this,vd).setLightMode("dark"):fd(this,vd).setLightMode("light"))}}gd=new WeakMap,vd=new WeakMap;var kd,yd,bd=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Md=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Cd{constructor(t){this.description="Auto print mode",this.name="auto-print",kd.set(this,void 0),yd.set(this,void 0),this.description="CuiAutoPrintModePlugin",this.setup=t,bd(this,kd,void 0),bd(this,yd,void 0)}init(t){bd(this,yd,t),this.setup.autoPrint&&window.matchMedia&&window.matchMedia("print").matches&&Md(this,yd).setPrintMode(!0),bd(this,kd,new pd("print")),Md(this,kd).setCallback(this.onChange.bind(this)),Md(this,kd).attach()}destroy(){Md(this,kd)&&Md(this,kd).detach()}onChange(t){var e,i;if(!Md(this,yd))return;this.setup=Md(this,yd).setup.plugins[this.description],null!==(i=null===(e=this.setup)||void 0===e?void 0:e.autoPrint)&&void 0!==i&&i&&(t.matches?Md(this,yd).setPrintMode(!0):Md(this,yd).setPrintMode(!1))}}kd=new WeakMap,yd=new WeakMap;var Ad,Ed,Wd,Td,Sd,xd,Ld=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Pd=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Id{constructor(t,e,i,s){Ad.set(this,void 0),Ed.set(this,void 0),Wd.set(this,void 0),Td.set(this,void 0),Ld(this,Ad,0),Ld(this,Wd,0),Ld(this,Ed,0),Ld(this,Td,0),this.set(t,e,i,s)}static create(t){if(!J(t))throw new c("Given color value is not in a valid format");let e;if(t.startsWith("#"))e=new Dd(t);else{if(!t.startsWith("rgb"))throw new c("Unknown color string format");e=new Bd(t)}let i=e.parse();if(!i)throw new c("Color was not parsed");return i}set(t,e,i,s){Ld(this,Td,et(null!=s?s:1,0,1)),Ld(this,Wd,et(i,0,255)),Ld(this,Ad,et(t,0,255)),Ld(this,Ed,et(e,0,255))}setRed(t){Ld(this,Ad,et(t,0,255))}setGreen(t){Ld(this,Ed,et(t,0,255))}setBlue(t){Ld(this,Wd,et(t,0,255))}opacity(t){return Ld(this,Td,et(t,0,1)),this}lighten(t){return this.shade(t),this}darken(t){return this.shade(-t),this}invert(){return Ld(this,Wd,255-Pd(this,Wd)),Ld(this,Ad,255-Pd(this,Ad)),Ld(this,Ed,255-Pd(this,Ed)),this}getColorValue(t){t&&t.toLowerCase();switch(t){case"red":return Pd(this,Ad);case"green":return Pd(this,Ed);case"blue":return Pd(this,Wd);case"alpha":return Pd(this,Td)}return-1}toCssString(){return`rgba(${Pd(this,Ad)}, ${Pd(this,Ed)}, ${Pd(this,Wd)}, ${Pd(this,Td)})`}shade(t,e=!0){Ld(this,Ad,this.shadeSingle(Pd(this,Ad),t,e)),Ld(this,Ed,this.shadeSingle(Pd(this,Ed),t,e)),Ld(this,Wd,this.shadeSingle(Pd(this,Wd),t,e))}shadeSingle(t,e,i=!0){let s=(i?t:255)*e/100;return et(t+Math.round(s),0,255)}clone(){return new Id(Pd(this,Ad),Pd(this,Ed),Pd(this,Wd),Pd(this,Td))}}Ad=new WeakMap,Ed=new WeakMap,Wd=new WeakMap,Td=new WeakMap;class Dd{constructor(t){Sd.set(this,void 0),Ld(this,Sd,t)}trim(){Ld(this,Sd,Pd(this,Sd)?Pd(this,Sd).trim():"")}isValid(){return J(Pd(this,Sd))&&Pd(this,Sd).startsWith("#")}parse(){let t=0,e=0,i=0,s=1,n=Pd(this,Sd).length;if(4===Pd(this,Sd).length)t=parseInt(Pd(this,Sd)[1]+Pd(this,Sd)[1],16),i=parseInt(Pd(this,Sd)[2]+Pd(this,Sd)[2],16),e=parseInt(Pd(this,Sd)[3]+Pd(this,Sd)[3],16);else if(t=parseInt(Pd(this,Sd)[1]+Pd(this,Sd)[2],16),i=parseInt(Pd(this,Sd)[3]+Pd(this,Sd)[4],16),e=parseInt(Pd(this,Sd)[5]+Pd(this,Sd)[6],16),n>7){let t=parseInt(Pd(this,Sd)[7]+Pd(this,Sd)[8],16);s=parseFloat((t/255).toFixed(2))}return new Id(t,i,e,s)}}Sd=new WeakMap;class Bd{constructor(t){xd.set(this,void 0),Ld(this,xd,t)}trim(){Ld(this,xd,J(Pd(this,xd))?Pd(this,xd).trim():"")}isValid(){return J(Pd(this,xd))&&Pd(this,xd).startsWith("rgb")}parse(){let t=Pd(this,xd).length,e=(Pd(this,xd).startsWith("rgba")?Pd(this,xd).substring(5,t-1):Pd(this,xd).substring(4,t-1)).split(",");if(!lt(e.length,3,4))return;let i=parseInt(e[0]),s=parseInt(e[1]),n=parseInt(e[2]),r=4===e.length?parseFloat(e[3]):1;return new Id(i,s,n,r)}}xd=new WeakMap;var Hd,Nd,$d,Od,Rd=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},_d=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const qd={light:{background:A.colorLightBackground,base:A.colorLightBase,active:A.colorLightActive,muted:A.colorLightMuted},dark:{background:A.colorDarkBackground,base:A.colorDarkBase,active:A.colorDarkActive,muted:A.colorDarkMuted}},Fd={accent:{base:A.colorAccent,muted:A.colorAccentMuted,active:A.colorAccentActive,shade:A.colorAccentShade,shadeDark:A.colorAccentShadeDark},secondary:{base:A.colorSecondary,muted:A.colorSecondaryMuted,active:A.colorSecondaryActive,shade:A.colorSecondaryShade,shadeDark:A.colorSecondaryShadeDark},error:{base:A.colorError,muted:A.colorErrorMuted,active:A.colorErrorActive,shade:A.colorErrorShade,shadeDark:A.colorErrorShadeDark},warning:{base:A.colorWarning,muted:A.colorWarningMuted,active:A.colorWarningActive,shade:A.colorWarningShade,shadeDark:A.colorWarningShadeDark},success:{base:A.colorSuccess,muted:A.colorSuccessMuted,active:A.colorSuccessActive,shade:A.colorSuccessShade,shadeDark:A.colorSuccessShadeDark}};class Ud{constructor(t,e){Hd.set(this,void 0),Nd.set(this,void 0),Rd(this,Hd,qd[t]),Rd(this,Nd,e)}setBackgroundColor(t){this.setColor(_d(this,Hd).background,t)}setBaseColor(t){this.setColor(_d(this,Hd).base,t)}setActiveColor(t){this.setColor(_d(this,Hd).active,t)}setMutedColor(t){this.setColor(_d(this,Hd).muted,t)}setBaseColors(t){if(!_d(this,Hd))return;let e={};e[_d(this,Hd).background]=t.background?t.background.toCssString():"",e[_d(this,Hd).active]=t.active?t.active.toCssString():"",e[_d(this,Hd).muted]=t.muted?t.muted.toCssString():"",e[_d(this,Hd).base]=t.base?t.base.toCssString():"",_d(this,Nd).setProperties(e)}setColor(t,e){_d(this,Nd).setProperty(t,e.toCssString())}}Hd=new WeakMap,Nd=new WeakMap;class zd{constructor(t,e){$d.set(this,void 0),Od.set(this,void 0),Rd(this,$d,e),Rd(this,Od,Fd[t])}setBaseColor(t){this.setColor(_d(this,Od).base,t)}setMutedColor(t){this.setColor(_d(this,Od).muted,t)}setActiveColor(t){this.setColor(_d(this,Od).active,t)}setShadeColor(t){this.setColor(_d(this,Od).shade,t)}setShadeDarkColor(t){this.setColor(_d(this,Od).shadeDark,t)}setColors(t){if(!_d(this,Od))return;let e={};e[_d(this,Od).shade]=t.shade?t.shade.toCssString():"",e[_d(this,Od).shadeDark]=t.shadeDark?t.shadeDark.toCssString():"",e[_d(this,Od).active]=t.active?t.active.toCssString():"",e[_d(this,Od).muted]=t.muted?t.muted.toCssString():"",e[_d(this,Od).base]=t.base?t.base.toCssString():"",_d(this,$d).setProperties(e)}setAutoColors(t){let e={};e[_d(this,Od).base]=t.toCssString(),e[_d(this,Od).shade]=t.lighten(30).toCssString(),e[_d(this,Od).shadeDark]=t.darken(30).toCssString(),e[_d(this,Od).active]=t.darken(10).toCssString(),e[_d(this,Od).muted]=t.lighten(10).toCssString(),_d(this,$d).setProperties(e)}setColor(t,e){_d(this,$d).setProperty(t,e.toCssString())}}$d=new WeakMap,Od=new WeakMap;var Vd,jd=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Xd=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Yd{constructor(t){Vd.set(this,void 0),jd(this,Vd,t)}setProperty(t,e){nt(t,e)&&Xd(this,Vd).interactions.mutate(()=>{Xd(this,Vd).setProperty(t,e)},null)}setProperties(t){J(t)&&Xd(this,Vd).interactions.mutate(()=>{for(let e in t)J(t[e])&&Xd(this,Vd).setProperty(e,t[e])},null)}}Vd=new WeakMap;var Kd,Zd=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Gd=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Jd{constructor(t){Kd.set(this,void 0),Zd(this,Kd,new Yd(t))}setBaseFontSize(t,e){this.setBaseUnitValue(A.fontSize,t,e)}setAnimationTime(t,e){this.setBaseUnitValue(A.animationTime,t,null!=e?e:"ms")}setAnimationTimeLong(t,e){this.setBaseUnitValue(A.setAnimationTimeLong,t,null!=e?e:"ms")}setAnimationTimeShort(t,e){this.setBaseUnitValue(A.setAnimationTimeShort,t,null!=e?e:"ms")}setBaseLineHeight(t,e){this.setBaseUnitValue(A.lineHeight,t,e)}setBaseMargin(t,e){this.setBaseUnitValue(A.margin,t,e)}setBasePadding(t,e){this.setBaseUnitValue(A.padding,t,e)}setBaseBorderRadius(t,e){this.setBaseUnitValue(A.borderRadius,t,e)}setComponentSpace(t,e){this.setBaseUnitValue(A.componentSpace,t,e)}setAccordionIcon(t){J(t)&&this.setCSSVariable(A.accordionIcon,t)}setScrollbarWidth(t,e){this.setBaseUnitValue(A.scrollbarWidth,t,e)}setAppBackgroundColor(t){J(t)&&this.setCSSVariable(A.colorLightAppBackground,t.toCssString())}setDarkAppBackgroundColor(t){J(t)&&this.setCSSVariable(A.colorDarkAppBackground,t.toCssString())}getBaseColorsSetter(){return new Ud("light",Gd(this,Kd))}getDarkBaseColorsSetter(){return new Ud("dark",Gd(this,Kd))}getAccentThemeColorsSetter(){return new zd("accent",Gd(this,Kd))}getSecondaryThemeColorsSetter(){return new zd("secondary",Gd(this,Kd))}getErrorThemeColorsSetter(){return new zd("error",Gd(this,Kd))}getWarningThemeColorsSetter(){return new zd("warning",Gd(this,Kd))}getSuccessThemeColorsSetter(){return new zd("success",Gd(this,Kd))}setCSSVariable(t,e){Gd(this,Kd).setProperty(t,e)}setBaseUnitValue(t,e,i){if(!J(e))return;let s=`${e}${null!=i?i:"px"}`;this.setCSSVariable(t,s)}}Kd=new WeakMap;var Qd,tp=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ep=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ip{constructor(t){this.name="css-variables-plugin",Qd.set(this,void 0),this.description="CuiCSSVariablesPlugin",this.setup=t,tp(this,Qd,Et.get("CuiCSSVariablesPlugin")),this.handler=void 0}init(t){this.handler=new Jd(t),t.bus.on("csschange",this.onCssChange.bind(this))}destroy(){}onCssChange(t){if(!this.handler)return;let e=null,i=null;switch(t.method){case"baseFontSize":if(!this.isArgNumber(t.arg))return;this.handler.setBaseFontSize(t.arg.value,t.arg.unit);break;case"baseLineHeight":if(!this.isArgNumber(t.arg))return;this.handler.setBaseLineHeight(t.arg.value,t.arg.unit);break;case"animationTime":if(!this.isArgNumber(t.arg))return;this.handler.setAnimationTime(t.arg.value,t.arg.unit);break;case"animationTimeLong":if(!this.isArgNumber(t.arg))return;this.handler.setAnimationTimeLong(t.arg.value,t.arg.unit);break;case"animationTimeShort":if(!this.isArgNumber(t.arg))return;this.handler.setAnimationTimeShort(t.arg.value,t.arg.unit);break;case"margin":if(!this.isArgNumber(t.arg))return;this.handler.setBaseMargin(t.arg.value,t.arg.unit);break;case"padding":if(!this.isArgNumber(t.arg))return;this.handler.setBasePadding(t.arg.value,t.arg.unit);break;case"borderRadius":if(!this.isArgNumber(t.arg))return;this.handler.setBaseBorderRadius(t.arg.value,t.arg.unit);break;case"componentSpace":if(!this.isArgNumber(t.arg))return;this.handler.setComponentSpace(t.arg.value,t.arg.unit);break;case"scrollbarWidth":if(!this.isArgNumber(t.arg))return;this.handler.setScrollbarWidth(t.arg.value,t.arg.unit);break;case"accordionIcon":if(!J(t.arg))return;this.handler.setAccordionIcon(t.arg);break;case"appLightBackground":if(!J(t.arg))return;this.handler.setAppBackgroundColor(Id.create(t.arg));break;case"appDarkBackground":case"appDarkBackground":if(!J(t.arg))return;this.handler.setDarkAppBackgroundColor(Id.create(t.arg));break;case"mainColorBackground":if(!this.isArgColor(t.arg))return;e=this.getBaseColorSetter(t.arg.palette),e&&e.setBackgroundColor(Id.create(t.arg.color));break;case"mainColor":if(!this.isArgColor(t.arg))return;e=this.getBaseColorSetter(t.arg.palette),e&&e.setBaseColor(Id.create(t.arg.color));break;case"mainColorMuted":if(!this.isArgColor(t.arg))return;e=this.getBaseColorSetter(t.arg.palette),e&&e.setMutedColor(Id.create(t.arg.color));break;case"mainColorActive":if(!this.isArgColor(t.arg))return;e=this.getBaseColorSetter(t.arg.palette),e&&e.setActiveColor(Id.create(t.arg.color));break;case"themeAutoColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setAutoColors(Id.create(t.arg.color));case"themeBaseColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setAutoColors(Id.create(t.arg.color));case"themeMutedColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setMutedColor(Id.create(t.arg.color));case"themeActiveColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setActiveColor(Id.create(t.arg.color));case"themeShadeColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setShadeColor(Id.create(t.arg.color));case"themeShadeDarkColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setShadeDarkColor(Id.create(t.arg.color));default:ep(this,Qd).warning("Unknown event method","onCssChange")}}isArgNumber(t){return J(t)&&J(t.value)}isArgColor(t){return J(t)&&J(t.palette)&&J(t.color)}getBaseColorSetter(t){if(!this.handler)return;switch(t.trim().toLowerCase()){case"light":return this.handler.getBaseColorsSetter();case"dark":return this.handler.getDarkBaseColorsSetter()}}getAccentColorSetter(t){if(!this.handler)return;switch(t.trim().toLowerCase()){case"accent":return this.handler.getAccentThemeColorsSetter();case"secondary":return this.handler.getSecondaryThemeColorsSetter();case"error":return this.handler.getErrorThemeColorsSetter();case"warning":return this.handler.getWarningThemeColorsSetter();case"success":return this.handler.getSuccessThemeColorsSetter();default:return}}}Qd=new WeakMap;var sp,np=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},rp=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},op=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};sp=new WeakMap;const hp="0.2.5";window.cuiInit=new class{constructor(){sp.set(this,void 0),rp(this,sp,!1)}init(t){var e,i;return np(this,void 0,void 0,(function*(){if(op(this,sp))return console.log("Module is already initialized"),!1;const s=new Ln,n=function(t){let e=!t||t.autoLight,i=!t||t.autoPrint;return[new wd({autoLight:e}),new Cd({autoPrint:i}),new rd({}),new _u,new ip({})]}({autoLight:!0,autoPrint:!0}),r=function(t){let e=null==t?void 0:t.prefix;return[new $o(e),new Bu(e),new cr(e),new fc(e),new Ba(e),new nl(e),new Jo(e),new pa(e),new kr(e),new yu(e),new Pr(e),new ch(e),new Po(e),new na(e),new su(e),new uu(e),new qc(e),new lc(e),new Ta(e)]}({prefix:null===(e=t.setup)||void 0===e?void 0:e.prefix});let o=n;t.plugins&&(o=Object.assign(Object.assign({},n),t.plugins));let h=yield s.init({setup:t.setup,icons:t.icons,plugins:o,components:J(t.components)?[...r,...t.components]:r,swipeAnimations:t.swipeAnimations});return h.result?(rp(this,sp,!0),!0):(console.error(`A cUI instance failed to initialize: [${null!==(i=h.message)&&void 0!==i?i:"#"}]`),console.log("Cui Light failed to init"),!1)}))}}}])}));
//# sourceMappingURL=index.min.js.map